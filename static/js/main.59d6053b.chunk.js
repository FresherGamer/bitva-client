(this.webpackJsonpbitva=this.webpackJsonpbitva||[]).push([[0],{184:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){"use strict";n.r(t);n(141),n(171),n(173),n(174),n(176);var c=n(1),r=n.n(c),a=n(45),s=n.n(a),i=(n(184),n(185),n(11)),o=n.n(i),l=n(19),d=n(18),j=n(20),u=n.n(j),b=n(2),h=n(23),O=n(36),x=Object(c.createContext)(),f=function(){return Object(c.useContext)(x)},p=n(12),m=n(208),v=n(238),g=n(239),A=n(217),k=n(240),w=n(0),y=function(e){var t=e.id;return Object(w.jsx)(b.S,{id:t,activePanel:"loading",children:Object(w.jsx)(b.u,{id:"loading",centered:!0,children:Object(w.jsx)(b.z,{size:"large"})})})},C=n(209),G=n(210),N=n(211),J=n(212),T=n(213),I=n(214),S=n(215),P=n(216),E=n(218),B=n(219),z=n(220),L=n(24),X=n.n(L),W=function(e){return 1===(e=e.toString()).length?"0"+e:e},F=function(e){var t=e.date,n=e.onEnd,r=void 0===n?function(){}:n,a=Object(c.useState)(null),s=Object(h.a)(a,2),i=s[0],o=s[1],l=Object(c.useRef)(null),d=Object(c.useCallback)((function(){if(void 0!==t){var e=t-Date.now();if(e<0)return r(),clearInterval(l.current);var n=Math.floor(e/864e5),c=Math.floor(e/36e5%24),a=Math.floor(e/1e3/60%60),s=Math.floor(e/1e3%60);o((n?W(n)+":":"")+(c?W(c)+":":"")+W(a)+":"+W(s))}}),[t,r]);return Object(c.useEffect)((function(){return d(),clearInterval(l.current),l.current=setInterval(d,1e3),function(){return clearInterval(l.current)}}),[d,t]),Object(w.jsx)(w.Fragment,{children:i})},V=n(48),R=n(206),D=n(207),M=function(e,t,n,c){return(e%=100)%10===1&&(e<10||e>20)?t:e%10>=2&&e%10<=4&&(e<10||e>20)?n:c};n(203);function Q(e){var t=e.children,n=e.img,r=e.before,a=e.description,s=e.after,i=e.onAvatarClick,o=e.withImage,d=e.bottom,j=e.disabled,u=e.app,h=e.avatarIcon,x=e.imgPosition,f=e.className,p=e.after_two,m=Object(V.a)(e,["children","img","before","description","after","onAvatarClick","withImage","bottom","disabled","app","avatarIcon","imgPosition","className","after_two"]),v=Object(c.useRef)(null),g=Object(c.useRef)(),A=Object(c.useRef)(0),k=function(){j||(g.current=!1,clearTimeout(A.current),v.current.classList.add("newCell--active"),v.current.classList.remove("newCell--deactive"))},y=function(){j||g.current||(v.current.classList.add("newCell--deactive"),v.current.classList.remove("newCell--active"))},C=function(){j||(g.current=!0,v.current.classList.add("newCell--deactive"),v.current.classList.remove("newCell--active"))},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return["onTouchStart","onTouchMove","onTouchCancel","onTouchEnd","onMouseMove","onMouseLeave","onMouseUp","onMouseDown","onMouseOut","onClick"].reduce((function(t,n){return Object(l.a)(Object(l.a)({},t),{},Object(O.a)({},n,(function(t){t.stopPropagation(),e[n]&&e[n]()})))}),{})};return Object(w.jsxs)(b.k,Object(l.a)(Object(l.a)(Object(l.a)({},m),{},{className:"newCell".concat(j?" newCell--disabled":"").concat(f?" ".concat(f):""),getRootRef:function(e){return v.current=e}},"ontouchstart"in window?{onTouchStart:k,onTouchMove:C,onTouchCancel:C,onTouchEnd:y}:{onMouseMove:function(){j||v.current.classList.add("newCell--hover")},onMouseLeave:C,onMouseUp:y,onMouseDown:k,onMouseOut:function(){j||v.current.classList.remove("newCell--hover")}}),{},{onClick:j?void 0:m.onClick,children:[Object(w.jsxs)("div",{className:"newCell--withImage",style:{alignSelf:x},children:[r&&Object(w.jsx)("div",{className:"newCell--before",children:r}),Object(w.jsxs)("div",{className:"newCell--avatar-wrap".concat(u?" newCell--avatar-wrap-app":""),children:[n&&Object(w.jsx)("img",Object(l.a)({src:n,onClick:i,alt:"",className:i?" newCell--avatar-clickable":""},i?G({onClick:i}):{})),o&&Object(w.jsx)("div",Object(l.a)(Object(l.a)({onClick:i,className:i&&"newCell--avatar-clickable"},i?G({onClick:i}):{}),{},{children:o})),h&&Object(w.jsx)("img",{className:"newCell--avatar-icon",alt:"",src:h})]})]}),Object(w.jsxs)("div",{className:"newCell--main",children:[Object(w.jsxs)("div",{className:"newCell--withTitle",children:[Object(w.jsx)("div",{className:"newCell--title",children:t}),s&&!s.props&&Object(w.jsxs)("div",{className:"newCell--with",children:[s,"  "]})]}),Object(w.jsxs)("div",{className:"newCell--description",style:{display:"flex",justifyContent:"space-between"},children:[a," ",Object(w.jsx)("body",{style:{textAlign:"right",margin:"0px",marginRight:"0px",whiteSpace:"nowrap",fontSize:"14px",opacity:"0.7"},children:p})," "]}),d&&Object(w.jsx)("div",Object(l.a)(Object(l.a)({className:"newCell--bottom"},G()),{},{children:d}))]}),s&&s.props&&Object(w.jsx)("div",Object(l.a)(Object(l.a)({},G()),{},{children:s}))]}))}var H=function(e){var t,n,c=e.e,r=e.createWinStory,a=Object(V.a)(e,["e","createWinStory"]),s=new Date(c.date),i=f(),j=Object(p.b)(),u=j.setPopout,h=j.closePopout,O=i.g(),x=O.send,m=O.attackAlert,v=O.user,g=function(e){if(e.hidden)return i.s("snackbar",Object(w.jsx)(b.I,{onClose:function(){return i.s("snackbar",null)},children:"\u0414\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043a\u0440\u044b\u0442\u0430 \u043e\u0442 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"}));var t=document.createElement("a");t.href="https://vk.com/id"+e.id,t.target="_blank",t.click()},A=function(){var e=Object(d.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(v.book>Date.now())||n){e.next=2;break}return e.abrupt("return",m((function(){return A(t,!0)})));case 2:return u(Object(w.jsx)(b.E,{})),e.prev=3,e.next=6,x("/attack","POST",JSON.stringify({to:t}),(function(e){return{duration:15e3,action:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",onActionClick:function(){return r(e.new_user.history[0])}}}));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:h();case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t,n){return e.apply(this,arguments)}}();switch(c.action){case"clan_season":return Object(w.jsxs)(Q,Object(l.a)(Object(l.a)({disabled:!0,withImage:Object(w.jsx)(X.a,{height:48,once:!0,children:Object(w.jsx)("img",{src:null===(t=c.data)||void 0===t?void 0:t[1],alt:""})}),app:!0,description:s.toLocaleString("default",{month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"})},a),{},{children:["\u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u0430\u0437\u043d\u044b \u0441\u0435\u0437\u043e\u043d\u0430 +",null===(n=c.data)||void 0===n?void 0:n[0],"$"]}));case"contract":return Object(w.jsx)(Q,Object(l.a)(Object(l.a)({disabled:!0,after:"+"+c.data[0]+"$",withImage:Object(w.jsx)(R.a,{width:48,height:48}),description:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d "+s.toLocaleString("default",{month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"})},a),{},{children:"\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442"}));case"fenix":return Object(w.jsx)(Q,Object(l.a)(Object(l.a)({disabled:!0,after:"+"+c.data[0]+"$",withImage:Object(w.jsx)(X.a,{height:48,once:!0,children:Object(w.jsx)("img",{src:"https://sun9-9.userapi.com/impg/QKY1PGNjMzIK_16v1qMSE4h2m1DaZZZfDG5dSQ/jOaVgOAnzqc.jpg?size=500x500&quality=96&sign=09d9a70434cf63f4ffe7e467f8b9db1f&type=album",alt:"Fenix"})}),onAvatarClick:function(){return function(e){var t=document.createElement("a");t.href="https://vk.com/"+e,t.target="_blank",t.click()}("app7643852")},description:"\u041f\u043e\u0431\u0435\u0434\u0430 "+s.toLocaleString("default",{month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"})},a),{},{children:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f FENIX"}));case"train":return Object(w.jsx)(Q,Object(l.a)(Object(l.a)({disabled:!0,after:c.data[1]?"-"+c.data[0]+"$ +"+c.data[1]+" "+M(c.data[0],"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b"):"-"+c.data[0]+"$",withImage:Object(w.jsx)(D.a,{width:48,height:48}),description:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 "+s.toLocaleString("default",{month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"})},a),{},{children:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430"}));case"attackOut":return Object(w.jsx)(Q,{disabled:!0,after:"+".concat(c.data[1],"$ + ").concat(c.data[0]," ").concat(M(c.data[0],"\u0431\u043e\u0435\u0446","\u0431\u043e\u0439\u0446\u0430","\u0431\u043e\u0439\u0446\u043e\u0432")),after_two:(c.data[2]||0==c.data[2])&&"+".concat(c.data[2]," ").concat(M(c.data[2],"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b")),withImage:Object(w.jsx)(X.a,{height:48,once:!0,children:Object(w.jsx)("img",{src:c.user.pic,alt:c.user.name})}),onAvatarClick:function(){return g(c.user)},description:"\u0412\u044b \u043d\u0430\u043f\u0430\u043b\u0438 "+s.toLocaleString("default",{month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"}),bottom:Object(w.jsx)(b.h,{onClick:function(){return r(c)},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"}),children:c.user.name});case"attackTo":return Object(w.jsx)(Q,{disabled:!0,after:"-".concat(c.data[1],"$ - ").concat(c.data[0]," ").concat(M(c.data[0],"\u0431\u043e\u0435\u0446","\u0431\u043e\u0439\u0446\u0430","\u0431\u043e\u0439\u0446\u043e\u0432")),after_two:(c.data[2]||0==c.data[2])&&"-".concat(c.data[2]," ").concat(M(c.data[2],"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b")),withImage:Object(w.jsx)(X.a,{height:48,once:!0,children:Object(w.jsx)("img",{src:c.user.pic,alt:c.user.name})}),onAvatarClick:function(){return g(c.user)},description:"\u041d\u0430 \u0432\u0430\u0441 \u043d\u0430\u043f\u0430\u043b\u0438 "+s.toLocaleString("default",{month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"}),bottom:Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(b.h,{onClick:function(){return A(c.user.id)},children:"\u041d\u0430\u043f\u0430\u0441\u0442\u044c \u0432 \u043e\u0442\u0432\u0435\u0442"})}),children:c.user.name});default:return null}},K=Object(c.memo)(H),U=function(e){var t=Math.random();switch(e){case"a":return t>.5?"a":"\u0430";case"t":return t>.5?"T":"\u0422";case"p":return t>.5?"p":"\u0440";case"o":return t>.5?"o":"\u043e";case"c":return t>.5?"c":"\u0441";case"e":return t>.5?"\u0435":"e"}},q=function(e){var t=e.id,n=e.update,r=e.createWinStory,a=e.getUser,s=f(),i=s.g(),j=i.user,O=void 0===j?{}:j,x=i.fetching,v=i.send,g=Object(c.useState)(),k=Object(h.a)(g,2),y=k[0],L=k[1],W=Object(c.useState)(null),V=Object(h.a)(W,2),R=V[0],D=V[1],H=Object(p.c)().push,q=Object(p.b)(),Y=q.setPopout,Z=q.closePopout,_=Object(c.useMemo)((function(){return O.army?O.army.map((function(e,t){return Object(w.jsx)(Q,{disabled:!e.spec||5===e.spec,onClick:function(){s.s("learning",e),H({modal:"learningSuccess"})},withImage:Object(w.jsxs)(w.Fragment,{children:[e.spec&&5!==e.spec?Object(w.jsx)("div",{className:"specIcon panel "+(1===e.spec?"optim":2===e.spec?"tank":3===e.spec?"ling":4===e.spec?"mar":"free")}):null,Object(w.jsx)(X.a,{height:48,once:!0,children:Object(w.jsx)("img",{src:e.pic,className:"avatar",alt:e.name})})]}),description:0===e.id?"\u041f\u0440\u0435\u043c\u0438\u0443\u043c \u0431\u043e\u0435\u0446":"".concat(e.army," ").concat(M(e.army," \u0431\u043e\u0435\u0446"," \u0431\u043e\u0439\u0446\u0430"," \u0431\u043e\u0439\u0446\u043e\u0432")," \u0432 \u0430\u0440\u043c\u0438\u0438"),onAvatarClick:0===e.id?void 0:function(){var t=document.createElement("a");t.href="https://vk.com/id".concat(e.id),t.target="_blank",t.click()},bottom:0===e.spec&&Object(w.jsx)(b.h,{onClick:function(){s.s("learning",e),H({modal:"learning"})},children:"\u041e\u0431\u0443\u0447\u0438\u0442\u044c"}),after:"".concat(e.power," ").concat(M(e.power," \u0441\u0438\u043b\u0430"," \u0441\u0438\u043b\u044b"," \u0441\u0438\u043b")),children:e.name},t)})):null}),[O.army,s,H]),$=Object(c.useCallback)(function(){var e=Object(d.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.a.supports("VKWebAppShowNativeAds")){e.next=2;break}return e.abrupt("return",s.s("snackbar",Object(w.jsx)(b.I,{before:Object(w.jsx)(m.a,{style:{color:"var(--destructive)"}}),onClose:function(){return s.s("snackbar",null)},children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0440\u0435\u043a\u043b\u0430\u043c\u044b \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f."})));case 2:return Y(Object(w.jsx)(b.E,{})),e.next=5,u.a.send("VKWebAppShowNativeAds",{ad_format:"reward"}).catch((function(){}));case 5:return n=Date.now(),c="32erfds"+.345*n/4+"4320",e.next=9,v("/getFriends","POST",JSON.stringify({id:n,filter:c,number:t}));case 9:Z();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Z,Y,v,s]),ee=Object(c.useCallback)(Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(Object(w.jsx)(b.E,{})),e.next=3,v("/train").catch((function(){}));case 3:Z();case 4:case"end":return e.stop()}}),e)}))),[Z,Y,v]),te=Object(c.useMemo)((function(){var e=Date.now();return O.nextTrain>e?Object(w.jsxs)("div",{className:"button",style:{display:"flex"},children:[Object(w.jsxs)(b.h,{size:"l",mode:"secondary",style:{flex:1},children:["\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430 \u0430\u0440\u043c\u0438\u0438 ",Object(w.jsx)(F,{date:O.nextTrain,onEnd:a})]}),O.hideButton?null:Object(w.jsx)(b.h,{size:"l",mode:"secondary",style:{flex:0,marginLeft:"8px"},onClick:function(){return $(1)},children:Object(w.jsx)(C.a,{})})]}):Object(w.jsxs)(b.h,{size:"l",disabled:0===O.army.length,className:"button",before:Object(w.jsx)(G.a,{}),onClick:ee,children:[U("t"),U("p"),U("e"),"\u043d\u0438",U("p"),U("o"),"\u0432",U("a"),"\u0442\u044c ",U("a"),"\u0440\u043c\u0438\u044e -",O.trainCost,"$"]})}),[O,ee,$,a]),ne=Object(c.useCallback)(Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(Object(w.jsx)(b.E,{})),e.next=3,v("/contract").catch((function(){}));case 3:Z();case 4:case"end":return e.stop()}}),e)}))),[Z,Y,v]),ce=Object(c.useMemo)((function(){var e=Date.now();return O.nextContract>e?Object(w.jsxs)("div",{className:"button",style:{display:"flex"},children:[Object(w.jsxs)(b.h,{size:"l",mode:"secondary",children:["\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u0430 ",Object(w.jsx)(F,{date:O.nextContract,onEnd:a})]}),O.hideButton?null:Object(w.jsx)(b.h,{size:"l",mode:"secondary",style:{flex:0,marginLeft:"8px"},onClick:function(){return $(6)},children:Object(w.jsx)(C.a,{})})]}):Object(w.jsxs)(b.h,{size:"l",disabled:0===O.army.length,className:"button",before:Object(w.jsx)(N.a,{}),onClick:ne,children:["\u0412\u044b\u043f",U("o"),"\u043b\u043d\u0438\u0442\u044c \u043a",U("o"),"\u043d\u0442",U("p"),U("a"),"\u043a\u0442 +",O.contract,"$"]})}),[O,ne,$,a]),re=Object(c.useMemo)((function(){var e=Date.now();return O.nextAttack>e?Object(w.jsxs)(b.h,{size:"l",mode:"secondary",className:"button",children:["\u0410\u0440\u043c\u0438\u044f \u043e\u0442\u0434\u044b\u0445\u0430\u0435\u0442 ",Object(w.jsx)(F,{date:O.nextAttack,onEnd:function(){return s.s("user",(function(e){return Object(l.a)(Object(l.a)({},e),{},{nextAttack:0})}))}})]}):Object(w.jsxs)(b.h,{disabled:0===O.army.length,onClick:function(){return H({modal:"attack"})},className:"button",size:"l",before:Object(w.jsx)(J.a,{}),children:["\u041d",U("a"),"\u043f",U("a"),"\u0441\u0442\u044c"]})}),[O,s,H]);return Object(w.jsxs)(b.u,{id:t,children:[Object(w.jsx)(b.v,{left:Object(w.jsx)(b.x,{onClick:y?void 0:function(){Y(Object(w.jsxs)(b.a,{onClose:Z,iosCloseItem:Object(w.jsx)(b.b,{autoclose:!0,mode:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),children:[Object(w.jsx)(b.b,{autoclose:!0,before:Object(w.jsx)(T.a,{}),onClick:Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,v("/privacy?hidden=0");case 3:t=e.sent,s.s("user",t),L();case 6:case"end":return e.stop()}}),e)}))),subtitle:"\u0412\u0430\u0448\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0438\u0433\u0440\u043e\u043a\u0430\u043c",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(w.jsx)(b.b,{autoclose:!0,before:Object(w.jsx)(I.a,{}),onClick:Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,v("/privacy?hidden=1");case 3:t=e.sent,s.s("user",t),L();case 6:case"end":return e.stop()}}),e)}))),subtitle:"\u0412\u0430\u0448\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0438\u0433\u0440\u043e\u043a\u0430\u043c",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})]}))},children:y?Object(w.jsx)(b.K,{size:"s"}):O.hidden?Object(w.jsx)(I.a,{}):Object(w.jsx)(T.a,{})}),children:"\u0412\u0411\u0438\u0442\u0432\u0435"}),Object(w.jsxs)(b.C,{onRefresh:n,isFetching:x,children:[Object(w.jsxs)(b.n,{children:[Object(w.jsx)(b.D,{disabled:!0,before:Object(w.jsx)(b.f,{src:O.pic,size:72}),actions:Object(w.jsxs)("div",{style:{display:"flex"},children:[Object(w.jsx)(b.h,{className:"a",href:"https://vk.me/join/AJQ1d/Ok5Bu92EjfS_KMRnoL",target:"_blank",children:Object(w.jsx)(S.a,{})}),Object(w.jsx)(b.h,{className:"a",href:"https://vk.com/club198840007",target:"_blank",children:Object(w.jsx)(P.a,{})})]}),bottom:O.owner&&Object(w.jsxs)("a",{href:"https://vk.com/id"+O.owner.id,target:"_blank",rel:"noreferrer",className:"owner",children:[Object(w.jsx)("img",{src:O.owner.pic,alt:"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446"}),Object(w.jsxs)("div",{children:["\u0412\u044b \u0432 \u043e\u0442\u0440\u044f\u0434\u0435 \u0443 ",O.owner.name]})]}),children:O.name}),Object(w.jsxs)(b.k,{className:"dataBlock",children:[Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)("div",{children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),Object(w.jsxs)("div",{className:"description",children:[O.balance," $"]})]}),Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)("div",{children:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0430\u0440\u043c\u0438\u0438"}),Object(w.jsxs)("div",{className:"description",children:[O.army&&O.army.length," ",M(O.army&&O.army.length,"\u0431\u043e\u0435\u0446","\u0431\u043e\u0439\u0446\u0430","\u0431\u043e\u0439\u0446\u043e\u0432")]})]}),Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)("div",{children:"\u0421\u0438\u043b\u0430 \u0430\u0440\u043c\u0438\u0438"}),Object(w.jsx)("div",{className:"description",children:O.power})]})]}),Object(w.jsxs)(b.k,{className:"buttons",children:[te,ce,re]}),O.bonus&&Object(w.jsx)(Q,{style:{marginTop:"12px"},withImage:Object(w.jsx)(A.a,{}),imgPosition:"center",onClick:function(){Y(Object(w.jsx)(b.E,{})),u.a.send("VKWebAppJoinGroup",{group_id:198840007}).then((function(){return v("/getbonus")})).then((function(){Z(),s.s("snackbar",Object(w.jsx)(b.I,{onClose:function(){return s.s("snackbar",null)},children:"\u0411\u043e\u043d\u0443\u0441 \u043f\u043e\u043b\u0443\u0447\u0435\u043d."}))})).catch(Z)},description:"\u041f\u043e\u0434\u043f\u0438\u0448\u0438\u0441\u044c \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0438 \u043f\u043e\u043b\u0443\u0447\u0438 +100$",after:Object(w.jsx)(E.a,{className:"chevron"}),children:"\u0411\u043e\u043d\u0443\u0441 \u0437\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443"}),(O.lost_fenix>=1||!O.last_fenix||Date.now()-O.last_fenix>=864e5)&&O.army.length>=2&&Object(w.jsx)(Q,{style:{marginTop:"12px"},withImage:Object(w.jsx)(J.a,{}),imgPosition:"center",onClick:function(){var e=document.createElement("a");e.href="https://vk.com/app7643852",e.target="_blank",e.click()},description:"\u041f\u043e\u0431\u0435\u0434\u0438 \u0432 \u043d\u0430\u0448\u0435\u0439 \u0438\u0433\u0440\u0435 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438 +".concat(2*O.contract,"$"),after:Object(w.jsx)(E.a,{className:"chevron"}),children:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f FENIX"})]}),O.history&&0!==O.history.length?Object(w.jsxs)(b.n,{children:[Object(w.jsx)(b.o,{mode:"tertiary",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435"}),Object(w.jsx)(K,{e:O.history[0],createWinStory:r}),1!==O.history.length?Object(w.jsx)("div",{className:"openFull",onClick:function(){return H({panel:"events"})},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e"}):null]}):null,Object(w.jsxs)(b.n,{children:[O.army&&0!==O.army.length?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(b.o,{mode:"tertiary",children:"\u041c\u043e\u044f \u0430\u0440\u043c\u0438\u044f"}),_]}):Object(w.jsxs)(b.A,{className:"invitePlaceholder",icon:Object(w.jsx)(B.a,{className:"downArrow",width:72,height:72}),children:["\u041d\u0430\u0439\u043c\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e",Object(w.jsx)("br",{}),"\u0431\u043e\u0439\u0446\u0430 \u0432 \u0430\u0440\u043c\u0438\u044e!"]}),R&&Object(w.jsx)("div",{style:{marginTop:R.scrollHeight}})]})]}),Object(w.jsx)(b.m,{vertical:"bottom",getRef:D,children:Object(w.jsx)(b.k,{children:Object(w.jsx)(b.h,{size:"l",style:{width:"100%"},onClick:function(){return H({modal:"add"})},before:Object(w.jsx)(z.a,{}),mode:"destructive",children:"\u041d\u0430\u043d\u044f\u0442\u044c \u0431\u043e\u0439\u0446\u043e\u0432"})})})]})},Y=n(221),Z=function(e){var t=e.id,n=e.update,c=e.createWinStory,r=f().g(),a=r.user,s=void 0===a?{}:a,i=r.fetching,o=Object(p.c)().back;return Object(w.jsxs)(b.u,{id:t,children:[Object(w.jsx)(b.v,{left:Object(w.jsx)(b.w,{onClick:o}),children:"\u0421\u043e\u0431\u044b\u0442\u0438\u044f"}),Object(w.jsx)(b.C,{onRefresh:n,isFetching:i,children:Object(w.jsx)(b.n,{children:s.history&&0!==s.history.length?s.history.map((function(e,t){return Object(w.jsx)(K,{e:e,createWinStory:c},t)})):Object(w.jsx)(b.A,{icon:Object(w.jsx)(Y.a,{}),children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043f\u0443\u0441\u0442"})})})]})},_=function(e){var t=e.id,n=e.update,c=e.panel,r=e.createWinStory,a=e.getUser;return Object(w.jsxs)(b.S,{id:t,activePanel:c,children:[Object(w.jsx)(q,{id:"profile",update:n,createWinStory:r,getUser:a}),Object(w.jsx)(Z,{id:"events",update:n,createWinStory:r})]})},$=n(28),ee=n(222),te=n(223),ne=n.p+"static/media/pack.a0179e86.png",ce=n.p+"static/media/money.d1abf806.png",re=function(e){var t=e.id,n=e.fetchFriends,r=e.fetchRating,a=f(),s=a.g(),i=s.tab,o=s.ratingAll,l=s.ratingFriends,d=s.banner,j=void 0===d||d,u=function(e){var t=e.e,n=e.k,c=e.friends,r=Date.now();return Object(w.jsxs)(Q,{disabled:!(t.book>r),onClick:function(){var e=t.book-r,n=Math.floor(e/864e5),c=Math.floor(e/36e5%24),s=Math.floor(e/1e3/60%60),i=Math.floor(e/1e3%60);a.s("snackbar",Object(w.jsxs)(b.I,{onClose:function(){return a.s("snackbar",null)},children:["\u042d\u0442\u043e\u0442 \u0438\u0433\u0440\u043e\u043a \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u043e\u0434 \u0437\u0430\u0449\u0438\u0442\u043e\u0439.",Object(w.jsx)("br",{}),"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c: ",[].concat(Object($.a)(n?[n+" \u0434\u043d."]:[]),Object($.a)(c?[c+" \u0447."]:[]),Object($.a)(s&&!n?[s+" \u043c\u0438\u043d."]:[]),Object($.a)(!i||c||n?[]:[i+" \u0441\u0435\u043a."])).join(" ")]}))},before:n+1,withImage:Object(w.jsx)(X.a,{height:48,once:!0,children:Object(w.jsx)("img",{src:t.pic,className:"avatar",alt:t.name})}),onAvatarClick:function(){if(t.hidden)return a.s("snackbar",Object(w.jsx)(b.I,{onClose:function(){return a.s("snackbar",null)},children:"\u0414\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043a\u0440\u044b\u0442\u0430 \u043e\u0442 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"}));var e=document.createElement("a");e.href="https://vk.com/id"+t.id,e.target="_blank",e.click()},avatarIcon:t.clan_pic,description:"\u0421\u0438\u043b\u0430 \u0430\u0440\u043c\u0438\u0438: ".concat(t.sum),after:c?null:0===n?"+ 300 \u20bd":1===n?"+ 200 \u20bd":n>1&&n<5?"+ 100 \u20bd":n>4&&n<15?Object(w.jsx)("img",{src:ne,alt:"\u0421\u0442\u0438\u043a\u0435\u0440\u043f\u0430\u043a",className:"pack"}):null,children:[t.name,t.book>r&&Object(w.jsx)(ee.a,{className:"guard"})]})};return Object(c.useEffect)((function(){"all"===i&&void 0===o?r():"friends"===i&&void 0===l&&n()}),[i]),Object(w.jsx)(b.S,{id:t,activePanel:"rating",children:Object(w.jsxs)(b.u,{id:"rating",children:[Object(w.jsx)(b.v,{children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),Object(w.jsxs)(b.n,{children:[Object(w.jsxs)(b.P,{children:[Object(w.jsx)(b.Q,{onClick:function(){return a.s("tab","all")},selected:"all"===i,children:"\u041e\u0431\u0449\u0438\u0439"}),Object(w.jsx)(b.Q,{onClick:function(){return a.s("tab","friends")},selected:"friends"===i,children:"\u0414\u0440\u0443\u0437\u044c\u044f"})]}),"all"===i?o?Object(w.jsxs)(w.Fragment,{children:[j&&Object(w.jsx)(b.g,{size:"m",mode:"image",header:"\u041f\u0440\u0438\u0437\u044b \u043b\u0443\u0447\u0448\u0438\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c!",asideMode:"dismiss",onDismiss:function(){return a.s("banner",null)},className:"banner",subheader:"\u0420\u0430\u0437\u0433\u0440\u044b\u0432\u0430\u0435\u043c \u043f\u0440\u0438\u0437\u044b \u0434\u043b\u044f \u0442\u043e\u043f\u0430 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043a\u0430\u0436\u0434\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e!",background:Object(w.jsx)("div",{style:{background:"url(".concat(ce,") center"),backgroundSize:"cover",opacity:.5}}),actions:Object(w.jsx)(b.h,{mode:"overlay_primary",href:"https://vk.com/wall-198840007_4350",className:"a",target:"_blank",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})}),o.items.map((function(e,t){return Object(w.jsx)(u,{e:e,k:t},t)}))]}):Object(w.jsx)(b.z,{}):l?l.items.map((function(e,t){return Object(w.jsx)(u,{e:e,k:t,friends:!0},t)})):null===l?Object(w.jsx)(b.A,{icon:Object(w.jsx)(te.a,{}),header:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",action:Object(w.jsx)(b.h,{onClick:n,children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"}),children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0434\u0440\u0443\u0437\u0435\u0439"}):Object(w.jsx)(b.z,{})]})]})})},ae=n(205),se=n.p+"static/media/messages.7511fd29.png",ie=n.p+"static/media/story.a4de1007.png",oe=n.p+"static/media/story_photo.a4504884.png",le=n.p+"static/media/exploding_head.ed644b84.png",de=function(e){var t=e.id,n=f().g().user,c=Object(p.c)().back,r=Object(b.T)();return Object(w.jsxs)(b.r,{onClose:c,id:t,children:[Object(w.jsx)(b.s,{left:"android"===r&&Object(w.jsx)(b.y,{onClick:c}),right:"ios"===r&&Object(w.jsx)(b.x,{onClick:c,children:Object(w.jsx)(ae.a,{})}),children:"\u041d\u0430\u043d\u044f\u0442\u044c \u0431\u043e\u0439\u0446\u043e\u0432"}),Object(w.jsxs)(b.k,{style:{paddingTop:0,paddingBottom:0,display:"flex",alignItems:"center"},children:[Object(w.jsx)("img",{src:le,alt:"\ud83e\udd2f",className:"exploding-head"}),Object(w.jsxs)("div",{className:"description",children:["\u041a\u0430\u0436\u0434\u044b\u0439 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0435\u0440\u0435\u0439\u0434\u0435\u0442 \u043f\u043e",Object(w.jsx)("br",{}),"\u0432\u0430\u0448\u0435\u0439 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0438\u043b\u0438 \u0441\u0441\u044b\u043b\u043a\u0435 - \u043f\u043e\u043f\u0430\u0434\u0435\u0442 \u0432 \u0412\u0430\u0448\u0443 \u0430\u0440\u043c\u0438\u044e!"]})]}),Object(w.jsx)(b.g,{size:"m",mode:"image",header:"\u041f\u0440\u0438\u0437\u044b\u0432 \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u044f\u0445",className:"banner",subheader:Object(w.jsxs)("div",{children:["\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u0443\u0439\u0442\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0441 \u043f\u0440\u0438\u0437\u044b\u0432\u043e\u043c",Object(w.jsx)("br",{}),"\u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u0432\u0430\u0448\u0443 \u0430\u0440\u043c\u0438\u044e!"]}),background:Object(w.jsx)("div",{style:{background:"url(".concat(ie,") center"),backgroundSize:"cover",opacity:.8}}),actions:Object(w.jsx)(b.h,{mode:"overlay_primary",onClick:function(){return u.a.send("VKWebAppShowStoryBox",{background_type:"image",url:window.location.origin+oe,locked:!0,attachment:{text:"go_to",type:"url",url:"https://vk.com/app7801617#"+n.id}})},children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})}),Object(w.jsx)(b.g,{size:"m",mode:"image",header:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435",className:"banner",subheader:Object(w.jsxs)("div",{children:["\u0421\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435",Object(w.jsx)("br",{}),"\u0435\u0451 \u0434\u0440\u0443\u0437\u044c\u044f\u043c!"]}),background:Object(w.jsx)("div",{style:{background:"url(".concat(se,") center"),backgroundSize:"cover",opacity:.8}}),actions:Object(w.jsx)(b.h,{mode:"overlay_primary",onClick:function(){return u.a.send("VKWebAppCopyText",{text:"https://vk.com/app7801617#"+n.id})},children:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),Object(w.jsx)("div",{style:{height:"12px"}})]})};function je(e){var t=e.attack,n=e.user,c=e.k,r=(e.root,f());return Object(w.jsx)(Q,{disabled:!0,img:n.pic,before:!isNaN(c)&&c+1,description:"\u0421\u0438\u043b\u0430 \u0430\u0440\u043c\u0438\u0438 ".concat(n.sum),avatarIcon:n.clan_pic,onAvatarClick:function(){if(n.hidden)return r.s("snackbar",Object(w.jsx)(b.I,{onClose:function(){return r.s("snackbar",null)},children:"\u0414\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043a\u0440\u044b\u0442\u0430 \u043e\u0442 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"}));var e=document.createElement("a");e.href="https://vk.com/id".concat(n.id),e.target="_blank",e.click()},after:t&&Object(w.jsx)(b.h,{onClick:t,children:"\u041d\u0430\u043f\u0430\u0441\u0442\u044c"}),children:n.name})}var ue,be=Object(b.U)((function(e){var t=e.updateModalHeight,n=e.attack,r=f(),a=r.g(),s=a.searchInput,i=a.searchRes,l=a.send,j=Object(c.useState)(),u=Object(h.a)(j,2),O=u[0],x=u[1],m=Object(c.useRef)(0),v=Object(p.c)().push,g=function(){var e=Object(d.a)(o.a.mark((function e(n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return x(!0),t(),e.next=6,l("/getUser","POST",JSON.stringify({url:n}),{},!0);case 6:c=e.sent,r.s("searchRes",c.error||c),x(),t();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(b.F,{value:s,onChange:function(e){var t=e.target.value;m.current&&clearTimeout(m.current),r.s("searchInput",t),m.current=setTimeout((function(){return g(t)}),1e3)},placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430"}),O?Object(w.jsx)(b.z,{}):i?!0===i?Object(w.jsx)(b.A,{action:Object(w.jsx)(b.h,{onClick:function(){return v({modal:"add"})},children:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c"}),children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u0438\u0433\u0440\u0435"}):Object(w.jsx)(je,{user:i,attack:function(){return n(i.id)}}):Object(w.jsx)(b.A,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u0438\u043b\u0438 ID \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]})})),he=function(e){var t,n=e.attack,r=f(),a=r.g(),s=a.forYou,i=a.send;return Object(c.useEffect)((function(){s||i("/for_me").then((function(e){return r.s("forYou",e)}))}),[]),Object(w.jsx)(w.Fragment,{children:s?0===(null===(t=s.items)||void 0===t?void 0:t.length)?Object(w.jsx)(b.A,{children:"\u0423\u0432\u044b, \u0438\u0434\u0435\u0430\u043b\u044c\u043d\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0434\u043b\u044f \u0430\u0442\u0430\u043a\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043d\u0435\u0442."}):s.items.map((function(e,t){return Object(w.jsx)(je,{user:e,attack:function(){return n(e.id)},k:t},t)})):Object(w.jsx)(b.z,{})})},Oe=Object(b.U)((function(e){var t=e.fetchFriends,n=e.fetchRating,r=e.updateModalHeight,a=e.createWinStory,s=f(),i=s.g(),l=i.modalTab,j=i.ratingAll,u=i.ratingFriends,h=i.user,O=i.send,x=i.attackAlert,m=Object(p.b)(),v=m.setPopout,g=m.closePopout,A=Object(p.c)(),k=A.back,y=A.push,C=Object(b.T)();Object(c.useEffect)((function(){"rating"!==l||j?"friends"!==l||u||t().then(r):n().then(r)}),[l]);var G=Object(c.useCallback)(function(){var e=Object(d.a)(o.a.mark((function e(t,n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h.book>Date.now())||n){e.next=2;break}return e.abrupt("return",x((function(){return G(t,!0)})));case 2:return v(Object(w.jsx)(b.E,{})),c={},e.prev=4,e.next=7,O("/attack","POST",JSON.stringify({to:t}),(function(e){return{duration:15e3,action:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",onActionClick:function(){return a(e.new_user.history[0])}}}));case 7:c=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:g(),c.new_user&&k();case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n){return e.apply(this,arguments)}}(),[k,g,v,a,O,x,h]),N=Object(c.useMemo)((function(){return u&&u.items.filter((function(e){return e.id!==h.id})).map((function(e,t){return Object(w.jsx)(je,{user:e,attack:function(){return G(e.id)},k:t},t)}))}),[u,G,h.id]);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(b.s,{left:"android"===C&&Object(w.jsx)(b.y,{onClick:k}),right:"ios"===C&&Object(w.jsx)(b.x,{onClick:k,children:Object(w.jsx)(ae.a,{})}),children:"\u041d\u0430\u043f\u0430\u0441\u0442\u044c"}),Object(w.jsx)(b.P,{children:Object(w.jsxs)(b.p,{getScrollToLeft:function(e){return e-120},getScrollToRight:function(e){return e+120},children:[Object(w.jsx)(b.Q,{onClick:function(){return s.s("modalTab","for_you")},selected:"for_you"===l,children:"\u0414\u043b\u044f \u0432\u0430\u0441"}),Object(w.jsx)(b.Q,{onClick:function(){return s.s("modalTab","rating")},selected:"rating"===l,children:"\u041e\u0431\u0449\u0438\u0439"}),Object(w.jsx)(b.Q,{onClick:function(){return s.s("modalTab","friends")},selected:"friends"===l,children:"\u0414\u0440\u0443\u0437\u044c\u044f"}),Object(w.jsx)(b.Q,{onClick:function(){return s.s("modalTab","search")},selected:"search"===l,children:"\u041f\u043e\u0438\u0441\u043a"})]})}),"rating"===l&&(j?j.items.map((function(e,t){return Object(w.jsx)(je,{user:e,attack:function(){return G(e.id)},k:t},t)})):Object(w.jsx)(b.z,{})),"friends"===l&&(u?0===N.length?Object(w.jsxs)(b.A,{action:Object(w.jsx)(b.h,{onClick:function(){return y({modal:"add"})},children:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c"}),children:["\u041d\u0438\u043a\u0442\u043e \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439 \u0435\u0449\u0435 \u043d\u0435",Object(w.jsx)("br",{}),"\u0437\u0430\u0445\u043e\u0434\u0438\u043b \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 :("]}):N:null===u?Object(w.jsx)(b.A,{icon:Object(w.jsx)(te.a,{}),header:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",action:Object(w.jsx)(b.h,{onClick:function(){return t().then(r)},children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"}),children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0434\u0440\u0443\u0437\u0435\u0439"}):Object(w.jsx)(b.z,{})),"search"===l&&Object(w.jsx)(be,{attack:G}),"for_you"===l&&Object(w.jsx)(he,{attack:G})]})})),xe=function(e){var t=e.id,n=f(),r=n.g(),a=r.learning,s=r.user,i=r.send,l=Object(c.useState)(!1),j=Object(h.a)(l,2),u=j[0],O=j[1],x=Object(p.c)(),m=x.back,v=x.replace,g=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,i("/learning","POST",JSON.stringify({id:a.id,name:a.name}));case 4:t=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",O(!1));case 10:n.s("learning",{pic:a.pic,spec:t.winner}),v({modal:"learningSuccess"});case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(b.q,{id:t,onClose:m,icon:Object(w.jsx)(b.f,{size:72,src:a.pic}),header:"\u041a\u0443\u0440\u0441\u044b \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0438",subheader:Object(w.jsxs)("div",{children:["\u041e\u0431\u0443\u0447\u0438\u0442\u0435 \u0431\u043e\u0439\u0446\u0430, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0434\u0438\u043d \u0438\u0437",Object(w.jsx)("br",{}),"\u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u043d\u0430\u0432\u043a\u043e\u0432:"]}),actions:Object(w.jsx)(b.h,{onClick:g,disabled:u,size:"l",children:u?Object(w.jsx)(b.K,{size:"small"}):"\u041e\u0431\u0443\u0447\u0438\u0442\u044c -".concat(s.learning,"$")}),children:[Object(w.jsx)("div",{className:"card spec optim",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:"\u041e\u043f\u0442\u0438\u043c\u0438\u0441\u0442"}),Object(w.jsx)("div",{className:"description",children:"\u0423\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u0442 \u0432\u0440\u0435\u043c\u044f \u043c\u0435\u0436\u0434\u0443 \u0430\u0442\u0430\u043a\u0430\u043c\u0438 \u043d\u0430 5 \u0441."})]})}),Object(w.jsx)("div",{className:"card spec tank",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:"\u0422\u0430\u043d\u043a\u0438\u0441\u0442"}),Object(w.jsx)("div",{className:"description",children:"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 +20 \u043e\u0447\u043a\u043e\u0432 \u043a \u0441\u0432\u043e\u0435\u0439 \u0441\u0438\u043b\u0435"})]})}),Object(w.jsx)("div",{className:"card spec ling",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:"\u041b\u0438\u043d\u0433\u0432\u0438\u0441\u0442"}),Object(w.jsx)("div",{className:"description",children:"+1% \u043a \u0448\u0430\u043d\u0441\u0443 \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c \u0441\u0435\u0431\u044f \u043c\u0438\u0440\u043d\u044b\u043c\u0438 \u043f\u0435\u0440\u0435\u0433\u043e\u0432\u043e\u0440\u0430\u043c\u0438"})]})}),Object(w.jsx)("div",{className:"card spec mar",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:"\u041c\u0430\u0440\u043e\u0434\u0451\u0440"}),Object(w.jsxs)("div",{className:"description",children:["+0.5% \u043a \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u0443\u043a\u0440\u0430\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0435\u043d\u0435\u0433",Object(w.jsx)("br",{}),"\u043f\u0440\u0438 \u0430\u0442\u0430\u043a\u0435"]})]})}),Object(w.jsx)("div",{className:"card spec free",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:"\u0424\u0440\u0438\u043b\u0430\u043d\u0441\u0435\u0440"}),Object(w.jsx)("div",{className:"description",children:"+1% \u043a \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c\u044b\u0445 \u0434\u0435\u043d\u0435\u0433 \u043e\u0442 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u0430"})]})})]})},fe=function(e){var t=e.id,n=f().g().learning,c=Object(p.c)().back,r=1===n.spec?"optim":2===n.spec?"tank":3===n.spec?"ling":4===n.spec?"mar":"free";return Object(w.jsxs)(b.q,{id:t,onClose:c,icon:Object(w.jsxs)("div",{style:{position:"relative"},children:[Object(w.jsx)(b.f,{size:72,src:n.pic}),Object(w.jsx)("div",{className:"specIcon "+r})]}),header:"\u041a\u0443\u0440\u0441\u044b \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0438",subheader:Object(w.jsx)("div",{children:"\u0421\u043e\u043b\u0434\u0430\u0442 \u043f\u0440\u043e\u0448\u0435\u043b \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u043b \u043d\u0430\u0432\u044b\u043a:"}),actions:Object(w.jsx)(b.h,{onClick:c,size:"l",children:"\u0413\u043e\u0442\u043e\u0432\u043e"}),children:[1===n.spec&&Object(w.jsx)("div",{className:"card spec optim",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:"\u041e\u043f\u0442\u0438\u043c\u0438\u0441\u0442"}),Object(w.jsx)("div",{className:"description",children:"\u0423\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u0442 \u0432\u0440\u0435\u043c\u044f \u043c\u0435\u0436\u0434\u0443 \u0430\u0442\u0430\u043a\u0430\u043c\u0438 \u043d\u0430 5 \u0441."})]})}),2===n.spec&&Object(w.jsx)("div",{className:"card spec tank",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:"\u0422\u0430\u043d\u043a\u0438\u0441\u0442"}),Object(w.jsx)("div",{className:"description",children:"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 +20 \u043e\u0447\u043a\u043e\u0432 \u043a \u0441\u0432\u043e\u0435\u0439 \u0441\u0438\u043b\u0435"})]})}),3===n.spec&&Object(w.jsx)("div",{className:"card spec ling",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:"\u041b\u0438\u043d\u0433\u0432\u0438\u0441\u0442"}),Object(w.jsx)("div",{className:"description",children:"+1% \u043a \u0448\u0430\u043d\u0441\u0443 \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c \u0441\u0435\u0431\u044f \u043c\u0438\u0440\u043d\u044b\u043c\u0438 \u043f\u0435\u0440\u0435\u0433\u043e\u0432\u043e\u0440\u0430\u043c\u0438"})]})}),4===n.spec&&Object(w.jsx)("div",{className:"card spec mar",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:"\u041c\u0430\u0440\u043e\u0434\u0451\u0440"}),Object(w.jsxs)("div",{className:"description",children:["+0.5% \u043a \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u0443\u043a\u0440\u0430\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0435\u043d\u0435\u0433",Object(w.jsx)("br",{}),"\u043f\u0440\u0438 \u0430\u0442\u0430\u043a\u0435"]})]})}),6===n.spec&&Object(w.jsx)("div",{className:"card spec free",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:"\u0424\u0440\u0438\u043b\u0430\u043d\u0441\u0435\u0440"}),Object(w.jsx)("div",{className:"description",children:"+1% \u043a \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c\u044b\u0445 \u0434\u0435\u043d\u0435\u0433 \u043e\u0442 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u0430"})]})})]})},pe=n(224),me=function(e){var t=e.id,n=Object(p.c)().back;return Object(w.jsx)(b.q,{id:t,onClose:n,header:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u043d\u0430",subheader:"\u041f\u043e\u0441\u043b\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0439\u0442\u0438 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 \u043c\u0435\u043d\u044e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430, \u0447\u0442\u043e\u0431\u044b \u043a\u043b\u0430\u043d \u0431\u044b\u043b \u0441\u043e\u0437\u0434\u0430\u043d \u0438 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043b\u0441\u044f.",icon:Object(w.jsx)(pe.a,{}),actions:Object(w.jsx)(b.h,{size:"l",onClick:function(){return u.a.send("VKWebAppAddToCommunity")},children:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"})})},ve=function(e){var t=e.id,n=Object(p.c)().back;return Object(w.jsx)(b.q,{id:t,onClose:n,header:"\u0412\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435 \u0432 \u043a\u043b\u0430\u043d",subheader:"\u0427\u0442\u043e\u0431\u044b \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043a\u043b\u0430\u043d \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u0430\u0439\u0442\u0438 \u0432 \u0438\u0433\u0440\u0443 \u0438\u0437 \u043c\u0435\u043d\u044e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d \u043a\u043b\u0430\u043d \u0438\u043b\u0438 \u043f\u043e\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u043e\u0433\u043e-\u043b\u0438\u0431\u043e \u0438\u0437 \u043a\u043b\u0430\u043d\u0430 \u0434\u0430\u0442\u044c \u0432\u0430\u043c \u0441\u0441\u044b\u043b\u043a\u0443 \u0434\u043b\u044f \u0432\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f.",icon:Object(w.jsx)(pe.a,{}),actions:Object(w.jsx)(b.h,{size:"l",onClick:n,children:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e"})})},ge=n.p+"static/media/post.88d6df58.png",Ae=n.p+"static/media/post_clan.1634dd67.png",ke=n.p+"static/media/story_clan.0bfa20eb.png",we="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAC+CAYAAACLdLWdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAU/SURBVHgB7dwxcttGGIbhj1aTUrkBfILIXTrRnTsrXTopJ7BvYHVJqjg3kKuUSZtKVOfOzAmIG5ju0in7c0ENQoMkSJsigO99Zn7RsqgZj+bVerkEOdLjOk1TpDmvbmPOqq8VgoMyzbyaafX5P2kmekQjHV7EfpnmQjnyUwHNJmlu0twp/0L0TsT9Ks1tmnuG2WNulRfMXojgr9N8VL9+yEx3Z6bcVKEOInjm0DNTbqwzxsr/qD788Jj+zyzNSx1RrPJv1b8fHDOM+U1fcFCy76lOofzgoxBwPGWa59rjBOiJdjdO80FEj+MrlFu80I5OtJvXaf5I842AbogWf0zzKc37tt+0S/jXaX4W0E0vlLfukzZ3bht+rPREj64bq+XK3+bBbeyf/hTQH/GAd7LpDtvCL5QfPHB9DfokLoB7pg2nPZvCj9g5vUFflcrxz5u+uGmP/4vyAwagj2LhjhOfv5u+uG7FZ1+PoWjc768Lfya2OBiGUg1bnqatzrX2eCYM6KjY8vyr/OKWB6srfiGuwcHwxGr/VLVVf/VanSsRPYZn+YrAB6srPnt7DNX/Vv36in8losdwLd/0YKEe/qWAYXs4tFludQrlbQ4wdN+mmS9X/LEAD4udzZP6J4CBxXZnudW5F+BhcboTK/5YgI/F+7dG+N8J8HIe4RcCvCxW/DMBXhbh87JCuDkjfFiK40yOMmFnn7cQBHqP8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GGJ8GEpwi8FeClZ8eFoHuFPBXiZs9WBoynhw9Fij38nwMt0lD6cpplVt4CDUaz4c/EAFz4m8WF5nPmXAA838WFUfRLbnI8Chu+pak9gxXZnImDYJqpOMevP3LLdwdDdLP8wqv0lpzsYslJ5m7NQX/Fju/NWwDDd1D8ZrXyRVR9DVKZ5rtpVCqtXZ7LqY4hutHJpzqjhTrHaf0hTCOi/UrW9/VLT9fix6v8kYBheN/3lyZo7l8or//cC+iu27b83fWG04ZvY8qDPyjTPlHcwnxlt+eZCOX5OedAnEXtEX667w7bX3JZpfhDQL/EYtdx0hxNtV6b5lOaFgO6LB7Pvtt2pTfjhfXU7FtBd12l+bXPHtuGHeIkiKz+6Klb6VtHv60L52v17hunARIvn2tG2U511ijS34qgTx1Vq5RqctvZ9J7VS+biI63pwLNHexiPLQ3upfEVn1/9LZIYxM+2xtTmkN+IXgDncxF7+jTr6ZGohfgGYrzudDr7JlfID4D78cJnuzW2aVzpQ8Pue6uyiUH7i61I8AYb1lm9sFm968E5rLi77Wh4j/FXnac6UfyHi9rSaQnBQVrfT6s8xd9XtQWOv+w/FDXcMwCYzLQAAAABJRU5ErkJggg==",ye=function(e){var t=e.id,n=f(),c=n.g(),r=c.user,a=c.clan,s=Object(p.c)().back,i=Object(b.T)(),j=Object(p.b)(),h=j.setPopout,O=j.closePopout,x=function(){var e=Object(d.a)(o.a.mark((function e(){var t,c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(Object(w.jsx)(b.E,{})),e.prev=1,e.next=4,u.a.send("VKWebAppGetAuthToken",{scope:"photos",app_id:7801617});case 4:t=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),O(),e.abrupt("return",n.s("snackbar",Object(w.jsx)(b.I,{before:Object(w.jsx)(m.a,{style:{color:"var(--destructive)"}}),onClose:function(){return n.s("snackbar",null)},action:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",onActionClick:x,children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f\u043c, \u0447\u0442\u043e\u0431\u044b \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u0442"})));case 11:return e.next=13,u.a.send("VKWebAppCallAPIMethod",{method:"photos.getWallUploadServer",params:{access_token:t.access_token,v:"5.130"}});case 13:if(c=e.sent,(s=document.createElement("canvas")).getContext){e.next=17;break}return e.abrupt("return",n.s("snackbar",Object(w.jsx)(b.I,{before:Object(w.jsx)(m.a,{style:{color:"var(--destructive)"}}),onClose:function(){return n.s("snackbar",null)},children:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043a\u0430\u043d\u0432\u0430\u0441\u043e\u043c \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f."})));case 17:s.height=1080,s.width=1920,i=s.getContext("2d"),document.fonts.load('55pt "Inter SemiBold"').then((function(){document.fonts.load('38pt "Inter"').then((function(){var e=new Image,n=new Image;n.crossOrigin="anonymous";var j=new Image;n.onload=function(){i.drawImage(j,1036,443,190,190),i.globalCompositeOperation="source-in",i.drawImage(n,1036,443,190,190),i.globalCompositeOperation="destination-over",i.font='55pt "Inter SemiBold"',i.textAlign="center",i.textBaseline="top",i.fillStyle="#ffffff",i.fillText(a.name,1130,685),i.font='38pt "Inter"',i.fillText("".concat(a.power," ").concat(M(a.power,"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b")),1130,780),i.drawImage(e,0,0);var b=new FormData;s.toBlob(function(){var e=Object(d.a)(o.a.mark((function e(n){var s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.append("photo",n,"poster.png"),e.next=3,fetch("https://cors.roughs.ru/".concat(c.response.upload_url),{method:"POST",body:b});case 3:return s=e.sent,e.next=6,s.json();case 6:return s=e.sent,e.next=9,u.a.send("VKWebAppCallAPIMethod",{method:"photos.saveWallPhoto",params:Object(l.a)({access_token:t.access_token,v:"5.130"},s)});case 9:i=e.sent,O(),u.a.send("VKWebAppShowWallPostBox",{message:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0441\u044f \u043a \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0431\u0438\u0442\u0432\u0435 \u0433\u043e\u0434\u0430:\nvk.com/app7801617#id".concat(r.id,"clan").concat(a.id,"\n\n#\u0412\u0411\u0438\u0442\u0432\u04352021"),attachments:"photo".concat(i.response[0].owner_id,"_").concat(i.response[0].id)});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"image/png")},j.onload=function(){return n.src=a.pic},e.onload=function(){return j.src=we},e.src=Ae}))}));case 21:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(b.r,{onClose:s,id:t,children:[Object(w.jsx)(b.s,{left:"android"===i&&Object(w.jsx)(b.y,{onClick:s}),right:"ios"===i&&Object(w.jsx)(b.x,{onClick:s,children:Object(w.jsx)(ae.a,{})}),children:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c"}),Object(w.jsx)(b.g,{size:"m",mode:"image",header:"\u041f\u0440\u0438\u0437\u044b\u0432 \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u044f\u0445",className:"banner",subheader:Object(w.jsxs)("div",{children:["\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u0443\u0439\u0442\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0441 \u043f\u0440\u0438\u0437\u044b\u0432\u043e\u043c",Object(w.jsx)("br",{}),"\u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043a\u043b\u0430\u043d!"]}),background:Object(w.jsx)("div",{style:{background:"url(".concat(ie,") center"),backgroundSize:"cover",opacity:.8}}),actions:Object(w.jsx)(b.h,{mode:"overlay_primary",onClick:function(){h(Object(w.jsx)(b.E,{}));var e=document.createElement("canvas");if(!e.getContext)return n.s("snackbar",Object(w.jsx)(b.I,{before:Object(w.jsx)(m.a,{style:{color:"var(--destructive)"}}),onClose:function(){return n.s("snackbar",null)},children:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043a\u0430\u043d\u0432\u0430\u0441\u043e\u043c \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f."}));e.height=1920,e.width=1080;var t=e.getContext("2d");document.fonts.load('55pt "Inter SemiBold"').then((function(){document.fonts.load('36pt "Inter"').then((function(){var n=new Image,c=new Image;c.crossOrigin="anonymous";var s=new Image;c.onload=function(){t.drawImage(s,402,619,276,276),t.globalCompositeOperation="source-in",t.drawImage(c,402,619,276,276),t.globalCompositeOperation="destination-over",t.font='55pt "Inter SemiBold"',t.textAlign="center",t.textBaseline="top",t.fillStyle="#ffffff",t.fillText(a.name,540,945),t.font='36pt "Inter"',t.fillText("".concat(a.power," ").concat(M(a.power,"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b")),540,1055),t.drawImage(n,0,0),O(),u.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:e.toDataURL(),locked:!0,attachment:{text:"go_to",type:"url",url:"https://vk.com/app7801617#id".concat(r.id,"clan").concat(a.id)}})},s.onload=function(){return c.src=a.pic},n.onload=function(){return s.src=we},n.src=ke}))}))},children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})}),Object(w.jsx)(b.g,{size:"m",mode:"image",header:"\u041f\u0440\u0438\u0437\u044b\u0432 \u043d\u0430 \u0441\u0442\u0435\u043d\u0435",className:"banner",subheader:Object(w.jsxs)("div",{children:["\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u0443\u0439\u0442\u0435 \u043f\u043e\u0441\u0442 \u0441 \u043f\u0440\u0438\u0437\u044b\u0432\u043e\u043c",Object(w.jsx)("br",{}),"\u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043a\u043b\u0430\u043d!"]}),background:Object(w.jsx)("div",{style:{background:"url(".concat(ge,") center"),backgroundSize:"cover",opacity:.8}}),actions:Object(w.jsx)(b.h,{mode:"overlay_primary",onClick:x,children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})}),Object(w.jsx)(b.g,{size:"m",mode:"image",header:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435",className:"banner",subheader:Object(w.jsxs)("div",{children:["\u0421\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435",Object(w.jsx)("br",{}),"\u0435\u0451 \u0434\u0440\u0443\u0437\u044c\u044f\u043c!"]}),background:Object(w.jsx)("div",{style:{background:"url(".concat(se,") center"),backgroundSize:"cover",opacity:.8}}),actions:Object(w.jsx)(b.h,{mode:"overlay_primary",onClick:function(){return u.a.send("VKWebAppCopyText",{text:"https://vk.com/app7801617#id".concat(r.id,"clan").concat(a.id)})},children:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),Object(w.jsx)("div",{style:{height:"12px"}})]})},Ce=n(225),Ge=n(226),Ne=n(227),Je=n(228),Te=n(229);function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pe(e,t){var n=e.title,r=e.titleId,a=Se(e,["title","titleId"]);return c.createElement("svg",Ie({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":r},a),n?c.createElement("title",{id:r},n):null,ue||(ue=c.createElement("path",{fill:"currentColor",d:"M13.112 7.317c6.689-1.28 13.15 3.106 14.43 9.795 1.279 6.689-3.106 13.15-9.795 14.43-6.69 1.279-13.15-3.106-14.43-9.795-1.28-6.69 3.106-13.15 9.795-14.43zm.386 2.02c-5.574 1.066-9.228 6.45-8.162 12.024 1.067 5.574 6.45 9.228 12.025 8.162 5.574-1.067 9.228-6.45 8.162-12.025-1.067-5.574-6.45-9.228-12.025-8.162zm2.558 4.218a3.764 3.764 0 011.414 7.393l-2.48.474.27 1.416 1.652-.316a.84.84 0 01.316 1.652l-1.652.315.151.787a.88.88 0 01-.7 1.03l-.14.028a.88.88 0 01-1.032-.7l-.151-.787-.88.17a.84.84 0 11-.316-1.652l.88-.169-.271-1.416-.84.162a.88.88 0 01-1.031-.7l-.03-.157a.88.88 0 01.7-1.03l.84-.162-.887-4.64a.88.88 0 01.7-1.03l3.487-.668zm.367 1.723l-2.517.482.723 3.775 2.516-.482a1.922 1.922 0 00-.722-3.775zM38.495 23.459a8.895 8.895 0 11-5.208 17.01 8.895 8.895 0 015.208-17.01zm-.434 1.417a7.412 7.412 0 10-4.34 14.175 7.412 7.412 0 004.34-14.175zm.21 3.553a2.714 2.714 0 11-1.59 5.191l-1.742-.534-.304.994 1.16.356a.606.606 0 11-.356 1.16l-1.16-.356-.168.553a.635.635 0 01-.794.421l-.1-.03a.635.635 0 01-.42-.794l.168-.553-.618-.188a.607.607 0 01.355-1.16l.618.189.304-.994-.59-.18a.635.635 0 01-.422-.794l.034-.11a.635.635 0 01.794-.422l.59.18.998-3.258a.635.635 0 01.794-.421l2.448.75zm-.347 1.223l-1.767-.542-.812 2.651 1.767.541a1.386 1.386 0 00.812-2.65z"})))}var Ee=c.forwardRef(Pe),Be=(n.p,n.p+"static/media/fire.5ef4d89f.png");function ze(e){var t=e.id,n=e.update,c=f(),r=Object(p.c)().back,a=Object(b.T)(),s=Object(p.b)(),i=s.setPopout,l=s.closePopout,j=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(Object(w.jsx)(b.E,{})),e.next=3,u.a.send("VKWebAppShowOrderBox",{type:"item",item:t}).then((function(){n(),c.s("snackbar",Object(w.jsx)(b.I,{onClose:function(){return c.s("snackbar",null)},children:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!"})),r()})).catch((function(){}));case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.item,n=e.icon,c=e.cost,r=e.bonus,a=e.fire;return Object(w.jsx)(Q,{disabled:!0,withImage:n,after:Object(w.jsxs)(b.h,{mode:a&&"destructive",onClick:function(){return j(t)},children:[c," \u0433\u043e\u043b\u043e\u0441\u043e\u0432"]}),children:Object(w.jsxs)("div",{style:{display:"inline-block",position:"relative"},children:[Object(w.jsxs)("div",{children:[c," \u043c\u043e\u043d\u0435\u0442"]}),r&&Object(w.jsxs)("div",{className:"votes_description ".concat(a?" fire_votes_desc":""),children:["+",r," \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u043a"]}),a&&Object(w.jsx)("img",{src:Be,alt:"\ud83d\udd25",className:"fire_votes"})]})})};return Object(w.jsxs)(b.r,{id:t,onClose:r,children:[Object(w.jsx)(b.s,{left:"android"===a&&Object(w.jsx)(b.y,{onClick:r}),right:"ios"===a&&Object(w.jsx)(b.x,{onClick:r,children:Object(w.jsx)(ae.a,{})}),children:"\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c"}),Object(w.jsx)(h,{item:"votes10",icon:Object(w.jsx)(Ce.a,{width:48,height:48}),cost:10}),Object(w.jsx)(h,{item:"votes15",icon:Object(w.jsx)(Ee,{}),cost:14,bonus:1}),Object(w.jsx)(h,{item:"votes23",icon:Object(w.jsx)(Ge.a,{width:48,height:48}),cost:20,bonus:3}),Object(w.jsx)(h,{item:"votes40",icon:Object(w.jsx)(Ne.a,{width:48,height:48,style:{color:"var(--destructive)"}}),cost:30,bonus:10,fire:!0}),Object(w.jsx)(h,{item:"votes65",icon:Object(w.jsx)(Je.a,{width:48,height:48}),cost:50,bonus:15}),Object(w.jsx)(h,{item:"votes130",icon:Object(w.jsx)(Te.a,{width:48,height:48}),cost:100,bonus:30})]})}var Le=Object(b.U)((function(e){var t=e.fetchFriends,n=e.updateModalHeight,r=f(),a=r.g(),s=a.giftTab,i=a.ratingFriends,l=a.user,j=a.send,u=a.searchGiftRes,O=a.searchGift,x=Object(b.T)(),v=Object(p.c)(),g=v.back,A=v.push,k=Object(c.useRef)(0),y=Object(c.useState)(),C=Object(h.a)(y,2),G=C[0],N=C[1];Object(c.useEffect)((function(){i||t().then(n)}),[]);var J=Object(c.useCallback)((function(e){if(l.id===e)return r.s("snackbar",Object(w.jsx)(b.I,{onClose:function(){return r.s("snackbar",null)},before:Object(w.jsx)(m.a,{style:{color:"var(--destructive)"}}),children:"\u041d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0441\u0435\u0431\u0435."}));r.s("gift_user",e),A({modal:"gift_send"})}),[r,A,l.id]),T=Object(c.useCallback)((function(e,t){return Object(w.jsx)(Q,{disabled:!0,withImage:Object(w.jsx)("a",{href:"https://vk.com/id".concat(e.id),target:"_blank",rel:"noreferrer",children:Object(w.jsx)("img",{src:e.pic,alt:e.name})}),onAvatarClick:function(){},description:"\u0421\u0438\u043b\u0430 \u0430\u0440\u043c\u0438\u0438 ".concat(e.sum),after:Object(w.jsx)(b.h,{onClick:function(){return J(e.id)},children:"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c"}),children:e.name},t)}),[J]),I=Object(c.useMemo)((function(){return i&&i.items.filter((function(e){return e.id!==l.id})).map(T)}),[i,l.id,T]),S=function(){var e=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return N(!0),n(),e.next=6,j("/getUser","POST",JSON.stringify({url:t}),{},!0);case 6:c=e.sent,r.s("searchGiftRes",c.error||c),N(),n();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(b.s,{left:"android"===x&&Object(w.jsx)(b.y,{onClick:g}),right:"ios"===x&&Object(w.jsx)(b.x,{onClick:g,children:Object(w.jsx)(ae.a,{})}),children:"\u041a\u043e\u043c\u0443 \u043f\u043e\u0434\u0430\u0440\u0438\u043c?"}),Object(w.jsxs)(b.P,{children:[Object(w.jsx)(b.Q,{onClick:function(){return r.s("giftTab","friends")},selected:"friends"===s,children:"\u0414\u0440\u0443\u0437\u044c\u044f"}),Object(w.jsx)(b.Q,{onClick:function(){return r.s("giftTab","search")},selected:"search"===s,children:"\u041f\u043e\u0438\u0441\u043a"})]}),"friends"===s&&(i?0===I.length?Object(w.jsxs)(b.A,{action:Object(w.jsx)(b.h,{onClick:function(){return A({modal:"add"})},children:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c"}),children:["\u041d\u0438\u043a\u0442\u043e \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439 \u0435\u0449\u0435 \u043d\u0435",Object(w.jsx)("br",{}),"\u0437\u0430\u0445\u043e\u0434\u0438\u043b \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 :("]}):I:null===i?Object(w.jsx)(b.A,{icon:Object(w.jsx)(te.a,{}),header:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",action:Object(w.jsx)(b.h,{onClick:function(){return t().then(n)},children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"}),children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0434\u0440\u0443\u0437\u0435\u0439"}):Object(w.jsx)(b.z,{})),"search"===s&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(b.F,{value:O,onChange:function(e){var t=e.target.value;k.current&&clearTimeout(k.current),r.s("searchGift",t),k.current=setTimeout((function(){return S(t)}),1e3)},placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430"}),G?Object(w.jsx)(b.z,{}):u?!0===u?Object(w.jsx)(b.A,{action:Object(w.jsx)(b.h,{onClick:function(){return A({modal:"add"})},children:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c"}),children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u0438\u0433\u0440\u0435"}):T(u):Object(w.jsx)(b.A,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u0438\u043b\u0438 ID \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]})]})}));function Xe(e){var t=e.id,n=e.update,c=f(),r=c.g().gift_user,a=Object(p.c)().back,s=Object(b.T)(),i=Object(p.b)(),l=i.setPopout,j=i.closePopout,h=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(Object(w.jsx)(b.E,{})),e.next=3,u.a.send("VKWebAppShowOrderBox",{type:"item",item:"".concat(t,"to").concat(r)}).then((function(){n(),c.s("snackbar",Object(w.jsx)(b.I,{onClose:function(){return c.s("snackbar",null)},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e!"})),a()})).catch((function(){}));case 3:j();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=e.item,n=e.icon,c=e.cost,r=e.bonus,a=e.fire;return Object(w.jsx)(Q,{disabled:!0,withImage:n,after:Object(w.jsxs)(b.h,{mode:a&&"destructive",onClick:function(){return h(t)},children:[c," \u0433\u043e\u043b\u043e\u0441\u043e\u0432"]}),children:Object(w.jsxs)("div",{style:{display:"inline-block",position:"relative"},children:[Object(w.jsxs)("div",{children:[c," \u043c\u043e\u043d\u0435\u0442"]}),r&&Object(w.jsxs)("div",{className:"votes_description ".concat(a?" fire_votes_desc":""),children:["+",r," \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u043a"]}),a&&Object(w.jsx)("img",{src:Be,alt:"\ud83d\udd25",className:"fire_votes"})]})})};return Object(w.jsxs)(b.r,{id:t,onClose:a,children:[Object(w.jsx)(b.s,{left:"android"===s&&Object(w.jsx)(b.y,{onClick:a}),right:"ios"===s&&Object(w.jsx)(b.x,{onClick:a,children:Object(w.jsx)(ae.a,{})}),children:"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c"}),Object(w.jsx)(O,{item:"votes10",icon:Object(w.jsx)(Ce.a,{width:48,height:48}),cost:10}),Object(w.jsx)(O,{item:"votes15",icon:Object(w.jsx)(Ee,{}),cost:14,bonus:1}),Object(w.jsx)(O,{item:"votes23",icon:Object(w.jsx)(Ge.a,{width:48,height:48}),cost:20,bonus:3}),Object(w.jsx)(O,{item:"votes40",icon:Object(w.jsx)(Ne.a,{width:48,height:48,style:{color:"var(--destructive)"}}),cost:30,bonus:10,fire:!0}),Object(w.jsx)(O,{item:"votes65",icon:Object(w.jsx)(Je.a,{width:48,height:48}),cost:50,bonus:15}),Object(w.jsx)(O,{item:"votes130",icon:Object(w.jsx)(Te.a,{width:48,height:48}),cost:100,bonus:30})]})}var We=function(e){var t=e.activeModal,n=e.fetchFriends,c=e.fetchRating,r=e.createWinStory,a=e.update,s=Object(p.c)().back;return Object(w.jsxs)(b.t,{activeModal:t,onClose:s,children:[Object(w.jsx)(de,{id:"add"}),Object(w.jsx)(b.r,{id:"attack",onClose:s,dynamicContentHeight:!0,settlingHeight:80,children:Object(w.jsx)(Oe,{fetchFriends:n,createWinStory:r,fetchRating:c})}),Object(w.jsx)(xe,{id:"learning"}),Object(w.jsx)(fe,{id:"learningSuccess"}),Object(w.jsx)(me,{id:"createClan"}),Object(w.jsx)(ve,{id:"joinClan"}),Object(w.jsx)(ye,{id:"addToClan"}),Object(w.jsx)(ze,{id:"balance",update:a}),Object(w.jsx)(Xe,{id:"gift_send",update:a}),Object(w.jsx)(b.r,{id:"gift",onClose:s,dynamicContentHeight:!0,settlingHeight:80,children:Object(w.jsx)(Le,{fetchFriends:n})})]})},Fe=n.p+"static/media/story_win.2b845583.png",Ve=function(){var e=f(),t=e.g(),n=t.clanRating,r=t.send,a=Object(p.c)().push;return Object(c.useEffect)((function(){n||r("/rating/clans").then((function(t){return e.s("clanRating",t)}))}),[]),Object(w.jsx)(w.Fragment,{children:n?n.map((function(t,n){return Object(w.jsx)(Q,{onClick:function(){e.s("prevClan",t.id),a({story:"clans",panel:"prevClan"})},before:n+1,withImage:Object(w.jsx)(X.a,{height:48,once:!0,children:Object(w.jsx)("img",{className:"avatar avatar--clan",src:t.pic,alt:t.name})}),description:"".concat(t.army," ").concat(M(t.army,"\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a","\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430","\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432")),after:"".concat(t.power," ").concat(M(t.power,"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b")),app:!0,children:t.name},n)})):Object(w.jsx)(b.K,{style:{marginTop:"52px"}})})},Re=n(230),De=n(231),Me=function(){var e=f(),t=e.g(),n=t.clan,r=t.send,a=t.searchClan,s=void 0===a?"":a,i=t.searchClanRes,l=t.userKick,j=void 0===l?"":l,u=t.userKickRes,O=Object(c.useState)((null===n||void 0===n?void 0:n.chat)||""),x=Object(h.a)(O,2),m=x[0],v=x[1],g=Object(c.useRef)(0),A=Object(c.useRef)(0),k=Object(c.useState)(null),y=Object(h.a)(k,2),C=y[0],G=y[1],N=Object(c.useState)(null),J=Object(h.a)(N,2),T=J[0],I=J[1],S=Object(p.b)(),P=S.setPopout,E=S.closePopout,B=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(Object(w.jsx)(b.E,{})),e.next=3,r("/clan/chat","POST",JSON.stringify({url:m})).catch((function(){}));case 3:E();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(b.k,{children:Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)("div",{className:"clanTitle",style:{textAlign:"center"},children:"\u0427\u0430\u0442 \u043a\u043b\u0430\u043d\u0430"}),Object(w.jsx)(b.F,{before:Object(w.jsx)(Re.a,{width:16,height:16}),style:{marginTop:"10px",padding:0},placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430",value:m,onKeyUp:function(e){"Enter"===e.key&&B()},onChange:function(e){var t=e.target.value;return v(t)},after:Object(w.jsx)("div",{onClick:B,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})}),Object(w.jsx)(b.k,{style:{paddingTop:0},children:Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)("div",{className:"clanTitle",style:{textAlign:"center"},children:"\u0412\u044b\u0433\u043d\u0430\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"}),Object(w.jsx)(b.F,{style:{margin:"10px 0",padding:0},placeholder:"\u0418\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044f",value:j,onChange:function(t){var c=t.target.value;e.s("userKick",c),c&&(clearTimeout(A.current),A.current=setTimeout(Object(d.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I(Object(w.jsx)(b.K,{})),t.prev=1,t.next=4,r("/clan/search_user?clan=".concat(n.id,"&q=").concat(encodeURIComponent(c)));case 4:a=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:I(null),a&&e.s("userKickRes",a);case 11:case"end":return t.stop()}}),t,null,[[1,7]])}))),1e3))}}),T||(u?0===u.length?Object(w.jsx)(b.A,{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0432 \u043a\u043b\u0430\u043d\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}):u.map((function(e,t){return Object(w.jsx)(b.i,{disabled:!0,className:"paddings",before:Object(w.jsx)(b.f,{src:e.pic,onClick:function(){var t=document.createElement("a");t.href="https://vk.com/id".concat(e.id),t.target="_blank",t.click()}}),after:Object(w.jsx)(b.h,{onClick:function(){return r("/clan/kick","POST",JSON.stringify({user:e.id}))},children:"\u0418\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u044c"}),children:e.name},t)})):null)]})}),Object(w.jsx)(b.k,{style:{paddingTop:0},children:Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)("div",{className:"clanTitle",style:{textAlign:"center"},children:"\u041e\u0431\u044a\u044f\u0432\u0438\u0442\u044c \u0432\u043e\u0439\u043d\u0443"}),Object(w.jsx)(b.F,{style:{margin:"10px 0",padding:0},placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:s,onChange:function(t){var n=t.target.value;e.s("searchClan",n),n&&(clearTimeout(g.current),g.current=setTimeout(Object(d.a)(o.a.mark((function t(){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return G(Object(w.jsx)(b.K,{})),t.next=3,r("/clan/search?q=".concat(encodeURIComponent(n)));case 3:c=t.sent,G(null),e.s("searchClanRes",c);case 6:case"end":return t.stop()}}),t)}))),1e3))}}),Object(w.jsxs)("div",{className:"description",style:{textAlign:"center"},children:["\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u043e\u0431\u0435\u0434\u044b \u043a\u043b\u0430\u043d \u043f\u043e\u043b\u0443\u0447\u0438\u0442 30% \u0432\u0440\u0430\u0436\u0435\u0441\u043a\u043e\u0439",Object(w.jsx)("br",{}),"\u043a\u0430\u0437\u043d\u044b, \u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u043e\u0442\u0435\u0440\u044f\u0435\u0442 5%"]}),C||(i?0===i.length?Object(w.jsx)(b.A,{children:"\u041a\u043b\u0430\u043d\u044b \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}):i.map((function(e,t){return Object(w.jsx)(b.i,{disabled:!0,className:"paddings",before:Object(w.jsx)(b.f,{src:e.pic,mode:"app",onClick:function(){var t=document.createElement("a");t.href="https://vk.com/club".concat(e.id),t.target="_blank",t.click()}}),description:"\u0421\u0438\u043b\u0430 \u0430\u0440\u043c\u0438\u0438 ".concat(e.power),after:Object(w.jsx)(b.h,{onClick:Object(d.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P(Object(w.jsx)(b.E,{})),t.next=3,r("/clan/attack","POST",JSON.stringify({clan:e.id})).catch((function(){}));case 3:E();case 4:case"end":return t.stop()}}),t)}))),children:"\u041d\u0430\u043f\u0430\u0441\u0442\u044c"}),children:e.name},t)})):Object(w.jsx)(b.A,{children:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}))]})}),Object(w.jsx)(b.k,{style:{paddingTop:0},children:Object(w.jsx)(b.h,{style:{width:"100%"},before:Object(w.jsx)(De.a,{}),size:"m",onClick:function(){P(Object(w.jsx)(b.E,{})),r("/clan/update").then(E).catch(E)},children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u043d\u0430"})})]})},Qe=n(232),He=function(){var e=Object(p.c)().push;return Object(w.jsx)(b.A,{style:{marginTop:"72px"},icon:Object(w.jsx)(Qe.a,{}),action:Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(w.jsx)(b.h,{style:{marginBottom:"8px"},onClick:function(){return e({modal:"createClan"})},children:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"}),Object(w.jsx)(b.h,{mode:"secondary",onClick:function(){return e({modal:"joinClan"})},children:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043a\u043b\u0430\u043d"})]}),children:"\u0412\u044b \u043d\u0435 \u0441\u043e\u0441\u0442\u043e\u0438\u0442\u0435 \u0432 \u043a\u043b\u0430\u043d\u0435"})},Ke=n(233),Ue=function(){var e,t,n,r,a,s,i,o,l,d,j,u,h=f(),O=h.g(),x=O.clan,m=O.send,v=O.hash,g=O.user,k=Object(p.b)(),y=k.setPopout,C=k.closePopout,G=Object(p.c)().push,N=Object(c.useCallback)((function(e,t){if(t)return h.s("snackbar",Object(w.jsx)(b.I,{onClose:function(){return h.s("snackbar",null)},children:"\u0414\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043a\u0440\u044b\u0442\u0430 \u043e\u0442 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432."}));var n=document.createElement("a");n.href="https://vk.com/id".concat(e),n.target="_blank",n.click()}),[h]),J=Object(c.useMemo)((function(){return x&&x.army?x.army.map((function(e,t){return Object(w.jsx)(Q,{disabled:!0,withImage:Object(w.jsx)(X.a,{height:48,once:!0,children:Object(w.jsx)("img",{src:e.pic,className:"avatar",alt:e.name})}),onAvatarClick:function(){return N(e.id,e.hidden)},description:"".concat(e.army," ").concat(M(e.army," \u0431\u043e\u0435\u0446"," \u0431\u043e\u0439\u0446\u0430"," \u0431\u043e\u0439\u0446\u043e\u0432")," \u0432 \u0430\u0440\u043c\u0438\u0438"),after:"".concat(e.power," ").concat(M(e.power," \u0441\u0438\u043b\u0430"," \u0441\u0438\u043b\u044b"," \u0441\u0438\u043b")),children:e.name},t)})):null}),[x,N]);return Object(c.useEffect)((function(){x||m("/clan?me=1").then((function(e){var t;h.s("clan",e.prev?{}:e);var n,c=Object.fromEntries(new URLSearchParams(window.location.search).entries()),r=null===(t=v.match(/clan([0-9]+)/))||void 0===t?void 0:t[1];e.prev?n=e:r&&Number(r)!==e.id?n=r:e.id!==Number(c.vk_group_id)&&(n=c.vk_group_id),n&&(g.clan?(h.s("prevClan",n),G({story:"clans",panel:"prevClan"})):(h.s("invitingClan",n),G({story:"clans",panel:"invitingClan"})))})).catch((function(){return h.s("clan",{})}))}),[]),Object(w.jsxs)(w.Fragment,{children:[!x&&Object(w.jsx)(b.K,{style:{marginTop:"56px"}}),x&&Object(w.jsxs)(w.Fragment,{children:[!x.id&&Object(w.jsx)(He,{}),x.id&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(b.k,{className:"clanBlock",children:[Object(w.jsx)("img",{alt:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430 \u043a\u043b\u0430\u043d\u0430",src:x.pic}),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"clanTitle",children:x.name}),Object(w.jsxs)(b.R,{style:{margin:"5px 0"},photos:[null===(e=x.army)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.pic].concat(Object($.a)((null===(n=x.army)||void 0===n?void 0:n[1])?[null===(r=x.army[1])||void 0===r?void 0:r.pic]:[]),Object($.a)((null===(a=x.army)||void 0===a?void 0:a[2])?[null===(s=x.army[2])||void 0===s?void 0:s.pic]:[])),children:[x.army.length,"/100 ",M(x.army.length,"\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a","\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430","\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432")]}),Object(w.jsxs)("div",{className:"dataBlock",children:[Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)("div",{children:"\u041a\u0430\u0437\u043d\u0430 \u0441\u0435\u0437\u043e\u043d\u0430"}),Object(w.jsxs)("div",{className:"description",children:[x.balance," $"]})]}),Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)("div",{children:"\u0421\u0438\u043b\u0430 \u043a\u043b\u0430\u043d\u0430"}),Object(w.jsx)("div",{className:"description",children:x.power})]})]})]})]}),Object(w.jsxs)(b.k,{className:"clanButtons",children:[Object(w.jsx)(b.h,{stretched:!0,size:"m",onClick:function(){return G({modal:"addToClan"})},children:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c"}),x.chat&&Object(w.jsx)(b.h,{size:"m",className:"a",href:x.chat,target:"_blank",children:Object(w.jsx)(Ke.a,{width:22,height:22})}),Object(w.jsx)(b.h,{size:"m",className:"a",href:"https://vk.com/club".concat(x.id),target:"_blank",children:Object(w.jsx)(A.a,{width:22,height:22})}),Object(w.jsx)(b.h,{stretched:!0,mode:"secondary",size:"m",onClick:function(){return y(Object(w.jsx)(b.d,{onClose:C,header:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043a\u043b\u0430\u043d\u0430?",actions:[{autoclose:!0,title:"\u041e\u0442\u043c\u0435\u043d\u0430",mode:"cancel"},{autoclose:!0,title:"\u0412\u044b\u0439\u0442\u0438",mode:"destructive",action:function(){return m("/clan/exit")}}],children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u043a\u043b\u0430\u043d\u0430? \u0412\u044b \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043d\u043e\u0432\u044b\u0439 \u043a\u043b\u0430\u043d \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0438 24 \u0447."}))},children:"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u043a\u043b\u0430\u043d"})]}),Object(w.jsx)(b.J,{separator:!0,size:24}),Object(w.jsx)(b.o,{mode:"secondary",style:{margin:"-12px 0"},children:"\u0413\u043b\u0430\u0432\u0430 \u043a\u043b\u0430\u043d\u0430"}),Object(w.jsxs)(b.k,{className:"clanOwner",children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:null===(i=x.owner)||void 0===i?void 0:i.name}),Object(w.jsxs)("div",{className:"description",children:[null===(o=x.owner)||void 0===o?void 0:o.army," ",M(null===(l=x.owner)||void 0===l?void 0:l.army,"\u0431\u043e\u0435\u0446","\u0431\u043e\u0439\u0446\u0430","\u0431\u043e\u0439\u0446\u043e\u0432")," \u0432 \u0430\u0440\u043c\u0438\u0438"]})]}),Object(w.jsx)("img",{onClick:function(){var e,t;return N(null===(e=x.owner)||void 0===e?void 0:e.id,null===(t=x.owner)||void 0===t?void 0:t.hidden)},src:null===(d=x.owner)||void 0===d?void 0:d.pic,alt:"\u0413\u043b\u0430\u0432\u0430"}),Object(w.jsxs)("div",{style:{textAlign:"right"},children:[null===(j=x.owner)||void 0===j?void 0:j.power," ",M(null===(u=x.owner)||void 0===u?void 0:u.power,"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b")]})]}),Object(w.jsx)(b.J,{separator:!0,size:1}),Object(w.jsx)(b.o,{mode:"secondary",children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438 \u043a\u043b\u0430\u043d\u0430"}),J]})]})]})},qe=n(234),Ye=function(){var e,t,n=f(),c=n.g().clan,r=Object(p.c)().push;return Object(w.jsx)(b.k,{className:"wars",children:0===(null===(e=c.active_wars)||void 0===e?void 0:e.length)?Object(w.jsxs)(b.A,{icon:Object(w.jsx)(qe.a,{}),style:{marginTop:"72px"},children:["\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u0438\u0442\u0432. \u041e\u0431\u044a\u044f\u0432\u0438\u0442\u044c \u0432\u043e\u0439\u043d\u0443",Object(w.jsx)("br",{}),"\u043c\u043e\u0436\u0435\u0442 \u0433\u043b\u0430\u0432\u0430 \u043a\u043b\u0430\u043d\u0430."]}):null===(t=c.active_wars)||void 0===t?void 0:t.map((function(e,t){return Object(w.jsxs)("div",{className:"card",style:{paddingBottom:"16px"},children:[Object(w.jsx)("div",{style:{position:"absolute",zIndex:1,right:0,top:0,padding:"inherit"},children:Object(w.jsx)(b.h,{mode:"secondary",onClick:function(){n.s("warHistory",e.history),r({story:"clans",panel:"warHistory"})},children:"\u0441\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})}),Object(w.jsxs)(b.i,{disabled:!0,before:Object(w.jsx)(b.f,{src:(e.clan||e.attackedClan).pic,mode:"app",onClick:function(){var t=document.createElement("a");t.href="https://vk.com/club".concat((e.clan||e.attackedClan).id),t.target="_blank",t.click()}}),className:"paddings",children:[Object(w.jsx)("div",{children:(e.clan||e.attackedClan).name}),Object(w.jsxs)("div",{className:"description",children:[(e.clan||e.attackedClan).army," ",M((e.clan||e.attackedClan).army,"\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a","\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430","\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432")]})]}),Object(w.jsxs)("div",{className:"description",children:["\u0421\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u0434\u0435\u0442, \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c: ",e.duration]}),Object(w.jsxs)("div",{className:"clan-names",children:[Object(w.jsx)("div",{children:(e.clan||c).name}),Object(w.jsx)("div",{style:{justifyContent:"flex-end"},children:(e.attackedClan||c).name})]}),Object(w.jsx)(b.B,{className:"progress progress--".concat(e.clan?"right":"left"),value:(e.clan||c).power/(c.power+(e.attackedClan||e.clan).power)*100}),Object(w.jsxs)("div",{className:"proccessWar",style:{marginTop:"5px"},children:[Object(w.jsxs)("div",{className:"description",children:[(e.clan||c).power," ",M((e.clan||c).power,"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b")]}),Object(w.jsxs)("div",{className:"description",style:{textAlign:"right"},children:[(e.attackedClan||c).power," ",M((e.attackedClan||c).power,"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b")]})]}),Object(w.jsx)("div",{style:{textAlign:"center",marginTop:"-8px"},children:Object(w.jsx)(b.h,{onClick:function(){n.s("prevClan",(e.clan||e.attackedClan).id),r({story:"clans",panel:"prevClan"})},children:"\u0410\u0442\u0430\u043a\u043e\u0432\u0430\u0442\u044c"})})]},t)}))})},Ze=function(){var e,t,n=f().g().clan;return Object(w.jsx)(b.k,{className:"wars",children:0===(null===(e=n.finished_wars)||void 0===e?void 0:e.length)?Object(w.jsxs)(b.A,{icon:Object(w.jsx)(qe.a,{}),style:{marginTop:"72px"},children:["\u041d\u0435\u0442 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u044b\u0445 \u0431\u0438\u0442\u0432. \u041e\u0431\u044a\u044f\u0432\u0438\u0442\u044c \u0432\u043e\u0439\u043d\u0443",Object(w.jsx)("br",{}),"\u043c\u043e\u0436\u0435\u0442 \u0433\u043b\u0430\u0432\u0430 \u043a\u043b\u0430\u043d\u0430."]}):null===(t=n.finished_wars)||void 0===t?void 0:t.map((function(e,t){return Object(w.jsxs)("div",{className:"card",style:{paddingBottom:"18px"},children:[Object(w.jsx)("div",{className:"description",style:{position:"absolute",zIndex:1,left:"12px",bottom:"10px"},children:new Date(e.end).toLocaleString("default",{month:"long",day:"2-digit"})}),Object(w.jsxs)(b.i,{disabled:!0,before:Object(w.jsx)(b.f,{src:(e.clan||e.attackedClan).pic,mode:"app",onClick:function(){var t=document.createElement("a");t.href="https://vk.com/club".concat((e.clan||e.attackedClan).id),t.target="_blank",t.click()}}),className:"paddings",children:[Object(w.jsx)("div",{children:(e.clan||e.attackedClan).name}),Object(w.jsxs)("div",{className:"description",children:[(e.clan||e.attackedClan).army," ",M((e.clan||e.attackedClan).army,"\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a","\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430","\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432")]})]}),Object(w.jsxs)("div",{style:{textAlign:"center"},children:[Object(w.jsxs)("div",{className:"clanTitle",children:[e.attackedClan?"\u041d\u0430\u043f\u0430\u0434\u0435\u043d\u0438\u0435":"\u0417\u0430\u0449\u0438\u0442\u0430"," - ",e.winner===n.id?"\u041f\u043e\u0431\u0435\u0434\u0430":"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"]}),Object(w.jsxs)("div",{children:[e.winner===n.id?"+":"-"," ",e.money,"$"]})]})]},t)}))})},_e=function(){var e=f(),t=e.g().warsHistoryTab,n=Object(c.useState)(),r=Object(h.a)(n,2),a=r[0],s=r[1];return Object(w.jsxs)(w.Fragment,{children:["active"===t&&Object(w.jsx)(Ye,{}),"finished"===t&&Object(w.jsx)(Ze,{}),a&&Object(w.jsx)("div",{style:{marginTop:a.scrollHeight}}),Object(w.jsx)(b.m,{vertical:"bottom",getRef:s,children:Object(w.jsx)(b.k,{children:Object(w.jsx)(b.H,{activeValue:t,onSwitch:function(t){return e.s("warsHistoryTab",t)},options:[{value:"active",name:"\u0412\u043e\u0439\u043d\u0430"},{value:"finished",name:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}]})})})]})},$e=function(e){var t=e.id,n=f(),c=n.g(),r=c.clanTab,a=c.clan,s=c.fetching,i=c.send;return Object(w.jsxs)(b.u,{id:t,children:[Object(w.jsx)(b.v,{children:"\u0412\u043e\u0439\u043d\u0430"}),Object(w.jsx)(b.C,{isFetching:s,onRefresh:function(){n.s("fetching",!0),i("/clan?me=1").then((function(e){n.s("fetching",!1),e.prev||n.s("clan",e)})).catch((function(){return n.s("fetching",!1)}))},children:Object(w.jsxs)(b.n,{children:[Object(w.jsx)(b.P,{children:Object(w.jsxs)(b.p,{getScrollToLeft:function(e){return e-120},getScrollToRight:function(e){return e+120},children:[Object(w.jsx)(b.Q,{selected:"mine"===r,onClick:function(){return n.s("clanTab","mine")},children:"\u041c\u043e\u0439 \u043a\u043b\u0430\u043d"}),(null===a||void 0===a?void 0:a.id)&&Object(w.jsx)(b.Q,{selected:"war"===r,onClick:function(){return n.s("clanTab","war")},children:"\u0412\u043e\u0439\u043d\u0430"}),Object(w.jsx)(b.Q,{selected:"rating"===r,onClick:function(){return n.s("clanTab","rating")},children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),(null===a||void 0===a?void 0:a.admin)&&Object(w.jsx)(b.Q,{selected:"settings"===r,onClick:function(){return n.s("clanTab","settings")},children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})]})}),"mine"===r&&Object(w.jsx)(Ue,{}),"settings"===r&&Object(w.jsx)(Me,{}),"war"===r&&Object(w.jsx)(_e,{}),"rating"===r&&Object(w.jsx)(Ve,{})]})})]})},et=function(e){var t=e.id,n=f(),r=n.g(),a=r.invitingClan,s=r.send,i=Object(p.c)().back;return Object(c.useEffect)((function(){"object"!==typeof a&&s("/clan?clan=".concat(a)).then((function(e){return n.s("invitingClan",e)})).catch(i)}),[]),Object(w.jsxs)(b.u,{id:t,centered:!0,children:[Object(w.jsx)(b.v,{children:"\u0412\u0411\u0438\u0442\u0432\u0435"}),"object"===typeof a?Object(w.jsx)(b.A,{icon:Object(w.jsx)(b.f,{src:a.pic,size:100,mode:"app"}),header:a.name,action:Object(w.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(w.jsx)(b.h,{mode:"secondary",onClick:i,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(w.jsx)(b.h,{style:{marginLeft:"8px"},onClick:function(){i(),s("/clan?clan=".concat(a.id,"&accept=1")).then((function(e){return n.s("clan",e)}))},children:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c"})]}),children:"\u0412\u0430\u0441 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u044e\u0442 \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043a\u043b\u0430\u043d"}):Object(w.jsx)(b.K,{})]})},tt=function(e){var t,n,r,a,s,i,l,j,u,h,O,x,m,v,g=e.id,k=e.createWinStory,y=f(),C=y.g(),G=C.prevClan,N=C.send,J=(C.clan,C.attackAlert),T=C.user,I=Object(p.c)().back,S=Object(p.b)(),P=S.setPopout,E=S.closePopout;Object(c.useEffect)((function(){"object"!==typeof G&&N("/clan?clan=".concat(G)).then((function(e){return y.s("prevClan",e)})).catch(I)}),[]);var B=Object(c.useCallback)(function(){var e=Object(d.a)(o.a.mark((function e(t,n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(T.book>Date.now())||n){e.next=2;break}return e.abrupt("return",J((function(){return B(t,!0)})));case 2:return P(Object(w.jsx)(b.E,{})),c={},e.prev=4,e.next=7,N("/attack","POST",JSON.stringify({to:t}),(function(e){return{duration:15e3,action:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",onActionClick:function(){return k(e.new_user.history[0])}}}));case 7:c=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:E(),c.new_user&&I();case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n){return e.apply(this,arguments)}}(),[I,E,k,N,P,J,T]),z=Object(c.useCallback)((function(e,t){if(t)return y.s("snackbar",Object(w.jsx)(b.I,{onClose:function(){return y.s("snackbar",null)},children:"\u0414\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043a\u0440\u044b\u0442\u0430 \u043e\u0442 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432."}));var n=document.createElement("a");n.href="https://vk.com/id".concat(e),n.target="_blank",n.click()}),[y]),L=Object(c.useMemo)((function(){return G&&G.army?G.army.map((function(e,t){return Object(w.jsx)(Q,{disabled:!0,withImage:Object(w.jsx)(X.a,{height:48,once:!0,children:Object(w.jsx)("img",{src:e.pic,className:"avatar",alt:e.name})}),onAvatarClick:function(){return z(e.id,e.hidden)},description:G.hasWar?"".concat(e.power," ").concat(M(e.power,"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b")):"".concat(e.army," ").concat(M(e.army,"\u0431\u043e\u0435\u0446","\u0431\u043e\u0439\u0446\u0430","\u0431\u043e\u0439\u0446\u043e\u0432")," \u0432 \u0430\u0440\u043c\u0438\u0438"),after:G.hasWar?Object(w.jsx)(b.h,{onClick:function(){return B(e.id)},children:"\u041d\u0430\u043f\u0430\u0441\u0442\u044c"}):"".concat(e.power," ").concat(M(e.power,"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b")),children:e.name},t)})):null}),[G,z,B]);return Object(w.jsxs)(b.u,{id:g,children:[Object(w.jsx)(b.v,{left:Object(w.jsx)(b.w,{onClick:I}),children:"\u0412\u0411\u0438\u0442\u0432\u0435"}),"object"===typeof G?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(b.k,{className:"clanBlock",children:[Object(w.jsx)("img",{alt:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430 \u043a\u043b\u0430\u043d\u0430",src:G.pic}),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"clanTitle",children:G.name}),Object(w.jsxs)(b.R,{style:{margin:"5px 0"},photos:[null===(t=G.army)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.pic].concat(Object($.a)((null===(r=G.army)||void 0===r?void 0:r[1])?[null===(a=G.army[1])||void 0===a?void 0:a.pic]:[]),Object($.a)((null===(s=G.army)||void 0===s?void 0:s[2])?[null===(i=G.army[2])||void 0===i?void 0:i.pic]:[])),children:[G.army.length,"/100 ",M(G.army.length,"\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a","\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430","\u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432")]}),Object(w.jsxs)("div",{className:"dataBlock",children:[Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)("div",{children:"\u041a\u0430\u0437\u043d\u0430 \u0441\u0435\u0437\u043e\u043d\u0430"}),Object(w.jsxs)("div",{className:"description",children:[G.balance," $"]})]}),Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)("div",{children:"\u0421\u0438\u043b\u0430 \u043a\u043b\u0430\u043d\u0430"}),Object(w.jsx)("div",{className:"description",children:G.power})]})]})]})]}),Object(w.jsx)(b.k,{className:"clanButtons",children:Object(w.jsx)(b.h,{className:"a",href:"https://vk.com/club".concat(G.id),target:"_blank",before:Object(w.jsx)(A.a,{width:22,height:22}),size:"m",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"})}),Object(w.jsx)(b.J,{separator:!0,size:24}),Object(w.jsx)(b.o,{mode:"secondary",style:{margin:"-12px 0"},children:"\u0413\u043b\u0430\u0432\u0430 \u043a\u043b\u0430\u043d\u0430"}),Object(w.jsxs)(b.k,{className:"clanOwner",children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:null===(l=G.owner)||void 0===l?void 0:l.name}),Object(w.jsx)("div",{className:"description",children:G.hasWar?"".concat(null===(j=G.owner)||void 0===j?void 0:j.power," ").concat(M(null===(u=G.owner)||void 0===u?void 0:u.power,"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b")):"".concat(null===(h=G.owner)||void 0===h?void 0:h.army," ").concat(M(null===(O=G.owner)||void 0===O?void 0:O.army,"\u0431\u043e\u0435\u0446","\u0431\u043e\u0439\u0446\u0430","\u0431\u043e\u0439\u0446\u043e\u0432")," \u0432 \u0430\u0440\u043c\u0438\u0438")})]}),Object(w.jsx)("img",{onClick:function(){var e,t;return z(null===(e=G.owner)||void 0===e?void 0:e.id,null===(t=G.owner)||void 0===t?void 0:t.hidden)},src:null===(x=G.owner)||void 0===x?void 0:x.pic,alt:"\u0413\u043b\u0430\u0432\u0430"}),Object(w.jsx)("div",{style:{textAlign:"right"},children:G.hasWar?Object(w.jsx)(b.h,{onClick:function(){var e;return B(null===(e=G.owner)||void 0===e?void 0:e.id)},children:"\u041d\u0430\u043f\u0430\u0441\u0442\u044c"}):"".concat(null===(m=G.owner)||void 0===m?void 0:m.power," ").concat(M(null===(v=G.owner)||void 0===v?void 0:v.power,"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b"))})]}),Object(w.jsx)(b.J,{separator:!0,size:1}),Object(w.jsx)(b.o,{mode:"secondary",children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438 \u043a\u043b\u0430\u043d\u0430"}),L]}):Object(w.jsx)(b.K,{style:{marginTop:"72px"}})]})},nt=function(e){var t=e.id,n=Object(p.c)().back,c=f().g().warHistory,r=void 0===c?[]:c;return Object(w.jsxs)(b.u,{id:t,children:[Object(w.jsx)(b.v,{left:Object(w.jsx)(b.w,{onClick:n}),children:"\u0421\u0440\u0430\u0436\u0435\u043d\u0438\u044f"}),r.map((function(e,t){return Object(w.jsx)(b.D,{multiline:!0,disabled:!0,after:Object(w.jsxs)("div",{className:"historyAfter",children:[Object(w.jsx)(X.a,{height:16,once:!0,children:Object(w.jsx)("img",{src:e.attacked.pic,onClick:function(){var t=document.createElement("a");t.href="https://vk.com/id"+e.attacked.id,t.target="_blank",t.click()},className:"avatar",style:{height:"16px",width:"16px"},alt:"\u0417\u0430\u0449\u0438\u0442\u0438\u043b"})}),Object(w.jsxs)("div",{children:[e.out?"+":"-",e.power," ",M(e.power,"\u0441\u0438\u043b\u0430","\u0441\u0438\u043b\u044b","\u0441\u0438\u043b")]})]}),before:Object(w.jsx)(X.a,{height:48,once:!0,children:Object(w.jsx)("img",{src:e.attacking.pic,onClick:function(){var t=document.createElement("a");t.href="https://vk.com/id"+e.attacking.id,t.target="_blank",t.click()},className:"avatar cellAvatar",alt:"\u041d\u0430\u043f\u0430\u043b"})}),caption:(e.out?"\u041d\u0430\u043f\u0430\u0434\u0435\u043d\u0438\u0435 ":"\u0417\u0430\u0449\u0438\u0442\u0430 ")+new Date(e.date).toLocaleString("default",{month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"}),children:e.out?"\u0421\u043e\u044e\u0437\u043d\u0438\u043a":"\u0412\u0440\u0430\u0433"},t)}))]})},ct=function(e){var t=e.id,n=e.panel,c=e.createWinStory;return Object(w.jsxs)(b.S,{id:t,activePanel:n,children:[Object(w.jsx)($e,{id:"main"}),Object(w.jsx)(et,{id:"invitingClan"}),Object(w.jsx)(tt,{id:"prevClan",createWinStory:c}),Object(w.jsx)(nt,{id:"warHistory"})]})},rt=n(235),at=n(236),st=n(237),it=function(e){var t=e.img,n=e.name,c=e.desc,r=e.cost,a=e.onClick,s=e.timerButton,i=e.buttonType,o=e.fire,l=e.isGuard;return Object(w.jsx)(b.k,{style:{paddingTop:0},children:Object(w.jsxs)("div",{className:"card item",children:[Object(w.jsx)("div",{className:"card image",children:t}),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:n}),Object(w.jsx)("div",{className:"description",children:c}),s||Object(w.jsxs)(b.h,{mode:o?"destructive":i,style:{marginTop:"7px"},onClick:function(){return a()},children:[r," \u043c\u043e\u043d\u0435\u0442"]}),o&&Object(w.jsx)("img",{alt:"\ud83d\udd25",src:Be,className:"fire_pack"}),l&&Object(w.jsx)("div",{className:"description",style:{fontSize:"8pt",marginTop:"3px"},children:"\u0421\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0441\u043e\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0430\u0442\u0430\u043a\u0443"})]})]})})},ot=n.p+"static/media/banknotes.5d6ecbca.png",lt=n.p+"static/media/party.3628dd09.png",dt=n.p+"static/media/stars_in_eyes.fbe082d7.png",jt=function(e){var t=e.id,n=e.update,r=f(),a=r.g(),s=a.user,i=void 0===s?{}:s,j=a.fetching,u=a.send,h=Object(p.b)(),O=h.setPopout,x=h.closePopout,m=Object(p.c)().push,v=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(Object(w.jsx)(b.E,{})),e.prev=1,e.next=4,u("/buy","POST",JSON.stringify({item:t}));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:x();case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),g=Object(c.useMemo)((function(){return i.book>Date.now()?Object(w.jsxs)(b.h,{mode:"secondary",style:{marginTop:"7px"},children:["\u041a\u043e\u043d\u0435\u0446 \u0447\u0435\u0440\u0435\u0437 ",Object(w.jsx)(F,{date:i.book,onEnd:function(){return r.s("user",(function(e){return Object(l.a)(Object(l.a)({},e),{},{book:0})}))}})]}):null}),[i,r]);return Object(w.jsx)(b.S,{id:t,activePanel:"shop",children:Object(w.jsxs)(b.u,{id:"shop",children:[Object(w.jsx)(b.v,{children:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"}),Object(w.jsx)(b.C,{onRefresh:n,isFetching:j,children:Object(w.jsxs)(b.n,{children:[Object(w.jsx)(b.o,{mode:"tertiary",children:"\u0412\u0430\u0448 \u0431\u0430\u043b\u0430\u043d\u0441"}),Object(w.jsx)(b.k,{className:"money",children:Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)(rt.a,{fill:"var(--accent)"}),Object(w.jsxs)("div",{style:{flex:1},children:[Object(w.jsxs)("div",{children:[i.money," ",M(i.money,"\u043c\u043e\u043d\u0435\u0442\u0430","\u043c\u043e\u043d\u0435\u0442\u044b","\u043c\u043e\u043d\u0435\u0442")]}),Object(w.jsxs)("div",{className:"description",children:[i.balance," $"]})]}),Object(w.jsx)("div",{className:"verticalSeparator"}),Object(w.jsx)(b.h,{onClick:function(){return m({modal:"balance"})},children:"\u041a\u0443\u043f\u0438\u0442\u044c \u0437\u0430 \u0433\u043e\u043b\u043e\u0441\u0430 \u0412\u041a"})]})}),Object(w.jsx)(b.k,{style:{paddingBottom:0},children:Object(w.jsx)(Q,{description:"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u0435 \u043c\u043e\u043d\u0435\u0442\u044b \u0441\u0432\u043e\u0438\u043c \u0434\u0440\u0443\u0437\u044c\u044f\u043c!",className:"card",withImage:Object(w.jsx)(at.a,{width:28,height:28}),imgPosition:"center",style:{padding:"10px 12px"},onClick:function(){return m({modal:"gift"})},after:Object(w.jsx)(E.a,{style:{color:"var(--text_secondary)"}}),children:"\u041e\u0442\u043b\u0438\u0447\u043d\u044b\u0439 \u043f\u043e\u0434\u0430\u0440\u043e\u043a!"})}),Object(w.jsxs)("div",{className:"description",style:{textAlign:"center",marginTop:"5px",marginBottom:"-12px"},children:[Object(w.jsx)(st.a,{className:"vkIcon"})," 1 \u0433\u043e\u043b\u043e\u0441 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 = 1 \u043c\u043e\u043d\u0435\u0442\u0430"]}),Object(w.jsx)(b.o,{mode:"tertiary",children:"\u0422\u043e\u0432\u0430\u0440\u044b"}),Object(w.jsx)(it,{name:"\u0418\u0433\u0440\u043e\u0432\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430",img:Object(w.jsx)("img",{src:ot,alt:"\u0418\u0433\u0440\u043e\u0432\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430"}),desc:"3000 $",cost:10,onClick:function(){return v(1)}}),Object(w.jsx)(it,{name:"\u041c\u0430\u043b\u044b\u0439 \u043f\u0430\u043a \u0431\u043e\u0439\u0446\u043e\u0432",img:Object(w.jsx)("img",{src:dt,alt:"\u041c\u0430\u043b\u044b\u0439 \u043f\u0430\u043a \u0431\u043e\u0439\u0446\u043e\u0432"}),desc:"5 \u0431\u043e\u0439\u0446\u043e\u0432 \u0441 10-\u0442\u043e\u0439 \u0441\u0438\u043b\u043e\u0439",cost:10,onClick:function(){return v(2)}}),Object(w.jsx)(it,{name:"\u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u043f\u0430\u043a \u0431\u043e\u0439\u0446\u043e\u0432",img:Object(w.jsx)("img",{src:lt,alt:"\u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u043f\u0430\u043a \u0431\u043e\u0439\u0446\u043e\u0432"}),desc:"10 \u0431\u043e\u0439\u0446\u043e\u0432 \u0441 15-\u0442\u043e\u0439 \u0441\u0438\u043b\u043e\u0439",cost:14,onClick:function(){return v(3)},fire:!0}),Object(w.jsx)(it,{name:"\u0417\u0430\u0449\u0438\u0442\u0430",img:Object(w.jsx)("img",{src:"data:image/png;base64,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",alt:"\u0417\u0430\u0449\u0438\u0442\u0430"}),desc:"\u0417\u0430\u0449\u0438\u0442\u0430 \u043d\u0430 24 \u0447. \u0431\u0435\u0437 \u0430\u0442\u0430\u043a",cost:10,onClick:function(){return v(4)},timerButton:g,isGuard:!0})]})})]})})},ut=function(e){return btoa(e)},bt=function(){var e=Object(p.b)(),t=e.setPopout,n=e.closePopout,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=function(e,t){return o((function(n){return Object(l.a)(Object(l.a)({},n),{},Object(O.a)({},e,"function"===typeof t?t(n[e]):t))}))},n=function(e){return e?i[e]:i},r=function(e){return new Promise((function(t){return o((function(n){return t(e?n[e]:n),n}))}))},a=Object(c.useState)((function(){return e({s:t,g:n,ga:r})})),s=Object(h.a)(a,2),i=s[0],o=s[1],d=x.Provider;return{s:t,g:n,ga:r,Provider:d}}((function(e){return{tabbarVisible:null,scheme:"bright_light",apiUrl:"https://cyberbank-vk.ru",hash:window.location.hash.slice(1),fetching:!1,headers:{"content-type":"application/json","vk-auth":window.location.search.slice(1),friends:Number(new Date).toString()},snackbar:null,tab:"all",modalTab:"for_you",search:"",clanTab:"mine",learning:{},giftTab:"friends",warsHistoryTab:"active",searchGift:"",attackAlert:function(e){return t(Object(w.jsx)(b.d,{header:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435",actionsLayout:"vertical",actions:[{title:"\u041d\u0430\u043f\u0430\u0441\u0442\u044c",autoclose:!0,action:function(){return e()}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],onClose:n,children:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043d\u0430\u043f\u0430\u0441\u0442\u044c \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430? \u041f\u0440\u0438 \u043d\u0430\u043f\u0430\u0434\u0435\u043d\u0438\u0438 \u0432\u044b \u043f\u043e\u0442\u0435\u0440\u044f\u0435\u0442\u0435 \u0449\u0438\u0442."}))},send:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return{}},i=arguments.length>4?arguments[4]:void 0;return new Promise(function(){var j=Object(d.a)(o.a.mark((function d(j,u){var h,O,x,f,p;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return h=e.g(),O=h.apiUrl,x=h.headers,f=function(e){return t(Object(w.jsx)(b.d,{onClose:n,header:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!",actionsLayout:"vertical",actions:[{title:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443",autoclose:!0,action:function(){var e=document.createElement("a");e.href="https://vk.me/public204572574",e.target="_blank",e.click()}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel",action:function(){return u()}}],children:e}))},o.prev=2,o.next=5,fetch("".concat(O).concat(c),{headers:Object(l.a)(Object(l.a)({},x),{},{"vk-auth":"".concat(x["vk-auth"],"&texas=").concat(ut("abc2".concat(e.g("headers").friends,"dfdssf")))}),method:r,body:a});case 5:return p=o.sent,o.next=8,p.json();case 8:p=o.sent,o.next=14;break;case 11:return o.prev=11,o.t0=o.catch(2),o.abrupt("return",f(Object(w.jsxs)("code",{children:["[",Object(w.jsx)("b",{children:c}),"] ",o.t0.message]})));case 14:if(!p.banned){o.next=16;break}return o.abrupt("return",f("\u0412\u044b \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0437\u0430 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b \u043f\u0440\u043e\u0435\u043a\u0442\u0430."));case 16:if(!p.critical_error){o.next=18;break}return o.abrupt("return",f(Object(w.jsxs)("code",{children:["[",Object(w.jsx)("b",{children:c}),"] ",p.critical_error]})));case 18:if(p.new_user&&e.s("user",p.new_user),p.new_clan&&e.s("clan",p.new_clan),!p.error||i){o.next=22;break}return o.abrupt("return",u(e.s("snackbar",Object(w.jsx)(b.I,{onClose:function(){return e.s("snackbar",null)},before:Object(w.jsx)(m.a,{style:{color:"var(--destructive)"}}),children:p.error}))));case 22:p.snackbar&&e.s("snackbar",Object(w.jsx)(b.I,Object(l.a)(Object(l.a)({onClose:function(){return e.s("snackbar",null)},before:p.snackbar.image?Object(w.jsx)(b.f,{src:p.snackbar.image,size:24}):null},s(p)),{},{children:Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:p.snackbar.text.replace(/\n/g,"<br />")}})}))),j(p);case 24:case"end":return o.stop()}}),d,null,[[2,11]])})));return function(e,t){return j.apply(this,arguments)}}())}}})),a=r.g(),s=a.scheme,i=a.tabbarVisible,j=a.hash,f=a.snackbar,C=a.user,G=a.send,N=a.shop,J=Object(p.d)({story:"loading"}),T=J.story,I=J.popout,S=J.panel,P=J.modal,E=Object(p.c)(),B=E.push,z=E.replace;Object(c.useEffect)((function(){P?document.documentElement.style.setProperty("--snackbar_bottom","0px"):document.documentElement.style.setProperty("--snackbar_bottom","48px")}),[P]);var L=function(){var e=Object(d.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("/get","POST",JSON.stringify({to:(null===(t=j.match(/id([0-9]+)/))||void 0===t?void 0:t[1])||j}));case 2:return n=e.sent,r.s("user",n),r.s("tabbarVisible",!0),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(e){t(Object(w.jsx)(b.E,{}));var c=document.createElement("canvas");if(!c.getContext)return r.s("snackbar",Object(w.jsx)(b.I,{before:Object(w.jsx)(m.a,{style:{color:"var(--destructive)"}}),onClose:function(){return r.s("snackbar",null)},children:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043a\u0430\u043d\u0432\u0430\u0441\u043e\u043c \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f."}));c.height=1920,c.width=1080;var a=c.getContext("2d");document.fonts.load('55pt "Inter SemiBold"').then((function(){var t=new Image,r=new Image;r.crossOrigin="anonymous";var s=new Image;r.onload=function(){a.drawImage(s,430,690,221,221),a.globalCompositeOperation="source-in",a.drawImage(r,430,690,221,221),a.globalCompositeOperation="destination-over",a.font='55pt "Inter SemiBold"',a.textAlign="center",a.textBaseline="top",a.fillStyle="#ffffff",a.fillText(e.user.name,540,959),a.fillText("-".concat(e.data[1]," $"),540,1055),a.fillText("-".concat(e.data[0]," ").concat(M(e.data[0],"\u0431\u043e\u0435\u0446","\u0431\u043e\u0439\u0446\u0430","\u0431\u043e\u0439\u0446\u043e\u0432")),540,1150),a.drawImage(t,0,0),n(),u.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:c.toDataURL(),locked:!0,attachment:{text:"go_to",type:"url",url:"https://vk.com/app7801617#"+C.id}})},s.onload=function(){return r.src=e.user.pic400},t.onload=function(){return s.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN0AAADeCAYAAAC5UAW0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAqsSURBVHgB7d27ehTJGcbxFzYhM1wBtVcAm21Gb+ZsceiI8RWAr4Bx6GgJnSGHjhbCjdRk6wjInKnJ7GhFthnuTzUtNaM59KGqurrn/3ueTxqNtAGrfvXVoQ93hNzc3yrX+t7DA//dZV2fN6+r1ufLTSETd4TUmiA9lg+Ra1UTtBg+yIev2tTHzdfN+0iE0MXl5MP1pPXaKT8WvGrz+WPra0RA6MJqAmafC+UZsK4q+fCVdb3bvEYAhG4cGwo+lQ/aU8UbGuagkg/eG/kQVsIghK4/62JN0AqdLgvgmeiCiMTVta7roq4v1K26qOsnzXs4jQzYUPF5XeeaVwCmrvd1PRMBRA9FXT/X9ZvmdbDnWK912kNwHEBXi1sX8t0PuArbWnS1lOFbi6HnSSJs09drEb6TQNgIHxIhbPnXWoRvMV6IsM2lLsSCy6wVYjOb8CEJJ5b+l1KvxZAzewwll1f2+1wL2bGTkM81r4OJ6lcXoutlw7rbXA4canythck40d1OtS5E10uOuRtlv/9nQnS2yf1K8zo4qLhl1/HN6or9OV057uSHk07A16q6ftBMbiFxV/Owkr840gm4zenm4lkEsNa8hjvUtLVW5r5Rvmyc/g/5i0uBrgr5Y+ffdf0udObkhwtz+gtL5VXZTkdyXEhxYsEEYVTKcIElt4WU5nQuJ2A8J388PVZGcup0TeCWfJdkTMMekGIdL4ub4ubS6QoROMRjx5UdX0+FKyvNa4JOzbue6cStNK9fGLWMeqYJTTmnszncewHpTTrHm2pO1yyaAFNo5niTrGpO0emcfIdj0QRTs473nRLv46XudE6sUiIfTcdzSihlp7N/IFcKIEeVfMe7VAIpO509fsoJyI+TPz6TSHWVwVp+ewDIlZMfjf2iyFKEbl3XSwH5+76uz3X9qohiz+nYi8Mc2R5eqUhizumcEo6TgYBeK+L6Q8xOZ0uxhYB5KuU7XnCx5nRrsXCCeXPyTalUYDE6HfM4LEnw+V3o0Dlx5TeWpVLgjfPQw0u7224hYDls7+6eAu7fhex0K/lVH2CJ/lTXGwUQKnRODCuxbDa8/FYBhpmhhpcMK7F09xRomBmi09nNXtgEx6kYvZoZInQXYliJ01Fp5Grm2OHlWtzWDKfFVjPtGQnvNNCYTufkuxxwakbd5mFMp7PFk6xuVw0kYgsq1vHeaoChnc6JLgcMWlQZemkPm+DAwIuzh4RuJfbkAFNoQBaGDC/ZIgBulOp53V3fTrcSgQPaCvXsdn07HV0OuK1Uj27Xp9OtROCAXQr16HZ9Qjfp44WAzHVeyewaukKsWAKHFOqYka6ho8sBx3Xqdl0WUpw4+wTo6oGOXIHQ5dxLzrEEujt6BUKXTsc2AdDd0ds6HJvTrUTggD7s6oMnh37gWOhYQAH6e3Hom4eGl04soABD7V1QOdTpfhSAoZ7v+8ah0B1skQAOKvZ9Y1/obIvACcBQhfYEb1/oWEABxtu5irkvdIUAjLXz9pS7Vi+dWLUEQnF1fWq/savTsWoJhHOr293t8kMABruVp+3hpZ3C8psAhHLrXMztTsfVBEBY1si+ytV26JjPAeF9lavt0BUCEFrR/qI9p2M+B8RzfQJ0u9MxnwPiuc5XO3RPBCCW63y1Q1cIQCzXna49p7P53H0BiMHmczavu+5090XggJgsXw/tRRM6FlGA+K5y1oTukQDE5uxDE7pCAGL7qtMxnwPiuwpds3rJyiUQ39UKpoWO07+AdB7Y8NIJQCrOQsewEkjnoYWO7QIgnft0OiAtx5wOSIs5HZAaoQPSotMBibGQAiR2/9jjjwEEZqeBfRGAVC4JHZAYw0sgMUIHJEbogMQIHZAYoQMSs9BdCkAyhA5Iq2J4CSRGpwPSuiR0QFpXoasEIJVL5nRAWnQ6ILGr1ctPApAKCylAYh8YXgJpfeYBIkBaD5rhJUNMIL6rrDVbBpUAxPbBPtxtfwEgqqsRJaED0intQxM69uqA+BheAol9tA93Wm/YtgG3WAfisPncA3vRPuG5FIBYrkeTd3e9CSC4snnRDt07AYilbF6053ScDgbEY/O5r/bptHmDISYQnuXq+lTL7SvHSwEIrWx/sR26twIQ2pv2F3e2vmnzuguxXweEdD2fM9udjnkdEFaprUvndt0N7I0AhHIrT3d2/JCTH2ICGO9bbV2vuqvT2Q8wxATGsxxV22/uu9ksQ0xgvHLXm/tCxylhwHj/3PXmnQP/wXldhQAMUcnP52459CyDUgCGerXvG4c6HSdAA8PdWrVsHOp0tqFXCkBfpQ7c1vLYo7JeCUBfZ4e+eWh4aTgXE+in0p4FlMaxTmdDTLod0F157AeOdTrDggrQ3d4FlEaXxx+zoAJ0c6YOzwXp+szxvwnAMWddfqhr6ErR7YBDSnU8fbJr6AzdDtjvrOsPdllIaeN8TOC2Ske2Cdr6dDpDtwNuW/f54b6dztDtgBuVenQ507fTGbodcGOtnoZ0OkO3A/yK5Q/qaWjoCvngAafs6NknuwwZXppSPZZIgQU604DAmaGdzri63osrEHCaBnU5842Gs3My74m5HU7PWiOe+zGm0xnrctbtnIDTUKnnFsG2oXO6hnW7vwg4HS800pjhZaOS73jfC1i2s7r+rpHGDi8b3NYBS1fJ78lVGmns8LLBMBNLt1aAwJkQw8vGf8QwE8t0poCnP4YaXjZYzcTSVAo0rGyEDp0pxCliWI7vFPjRcSGHl41q87kQMG/ruv6lwGJ0ugZXImDOSg24gqCLmKFz8sFzAualUuB5XFvM0JlCzO8wP8HncW0x5nRtVV2f6/qjgHlYK8I8ri126MyvYv8O87BWgtuRxB5etrGwgpyVirRwsi1l6Ng4R64q+XncpRIIde5lF/YPirYiBAxUyR+XSQJnUna6hhO3eUAeLGjW4SollLLTNSol/ssC7DDZyGuKTtd4LL+4QsfDFKLuxR2SYstgn//W9b+6ngpIa1XXLzphq7q+UFSieiZcsW5nzzWfyy+Oml/Z8fVEGZhyTreNOR5iaRZNJpnDbZti9XIf+x/CPh5Cq5RR4ExOna7hxCVBCKNShn/Ic+p0jUqZ/WXCLGU7cppyy+AQG4Pb5RX2rASuTkBfZ3X9WX5bKju5hs78rpu9lEJAN+u6/ip//GCEldhSoA6XHR/PNAM5LqTs48QCC3arNKOV7xwXUvap5M+XeyXghh0Pya8UOEUrMdw89bLf/3MhKSf/pKC5HCRUuDoX04xJvdS8DhhqXNHdMuFE11t6ncufn4vMvBRzvaUVc7cZcHW91rwOLGp3nYu526ysxJBzrnWhTK59wzArEb65FEPJBXFilTP3sL0UFzAvkhPzPcKGSTgRPsKGSTj5X/6F5nXQEjYswkqEL1adyy+QEDbs9EQMPUOUdbWfxdI/enDy3c8edjKXAz2HOhddDQG4un4Sw899dSE/V3soHDWnK8dzYSfdPpHvgqd8Am65qbfizm29ELpxnPxNk36UD6DTctkd2t7oJmg86mwgQhdW0wULzT+ElXzArIu9E90sGEIXl6vrkXwAmxDmOCSt5ENln8vN609CFIQuPVvVe7T53ATRtb6O4XJT1VZ93HxmqJgQocuPhe8Puhmautb7h5bhq63Xn+X3yuwzocrI/wG9awKoJQtVdgAAAABJRU5ErkJggg=="},t.src=Fe}))},W=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.s("fetching",!0),e.next=3,L();case 3:r.s("fetching",!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("/rating");case 2:t=e.sent,r.s("ratingAll",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.s("ratingFriends"),e.prev=1,e.next=4,u.a.send("VKWebAppGetAuthToken",{scope:"friends",app_id:7801617});case 4:t=(t=e.sent).access_token,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r.s("ratingFriends",null));case 11:return e.next=13,u.a.send("VKWebAppCallAPIMethod",{method:"friends.getAppUsers",params:{access_token:t,v:"5.130"}});case 13:return n=e.sent,e.t1=r,e.next=17,G("/rating/list","POST",JSON.stringify({list:n.response}));case 17:e.t2=e.sent,e.t1.s.call(e.t1,"ratingFriends",e.t2);case 19:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e,t;console.log("User: ".concat((null===(e=j.match(/id([0-9]+)/))||void 0===e?void 0:e[1])||j,"\nClan: ").concat(null===(t=j.match(/clan([0-9]+)/))||void 0===t?void 0:t[1])),u.a.subscribe((function(e){var t=e.detail,n=t.type,c=t.data;switch(n){case"VKWebAppUpdateConfig":r.s("scheme",c.scheme);break;case"VKWebAppCopyTextResult":r.s("snackbar",Object(w.jsx)(b.I,{onClose:function(){return r.s("snackbar",null)},children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430"}))}}));var n=Object.fromEntries(new URLSearchParams(window.location.search).entries());u.a.send("VKWebAppGetUserInfo").then((function(){u.a.send("VKWebAppInit"),L().then((function(){var e;if((null===(e=j.match(/clan([0-9]+)?/))||void 0===e?void 0:e[1])||n.vk_group_id)return z({story:"clans",panel:"main"});z({story:"profile",panel:"profile"})}))})),u.a.send("VKWebAppAllowMessagesFromGroup",{group_id:198840007}),r.s("shop","mobile_ipad"!==n.vk_platform&&"mobile_iphone"!==n.vk_platform&&"mobile_iphone_messenger"!==n.vk_platform)}),[]),Object(w.jsx)(b.j,{scheme:s,children:Object(w.jsx)(b.e,{children:Object(w.jsxs)(r.Provider,{value:r,children:[Object(w.jsx)(b.M,{popout:I,modal:Object(w.jsx)(We,{activeModal:P,update:W,fetchRating:F,fetchFriends:V,createWinStory:X}),children:Object(w.jsx)(b.L,{animate:!0,children:Object(w.jsxs)(b.l,{activeStory:T,tabbar:i&&Object(w.jsxs)(b.N,{itemsLayout:"vertical",children:[Object(w.jsx)(b.O,{text:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",selected:"rating"===T,onClick:function(){return B({story:"rating"})},children:Object(w.jsx)(v.a,{})}),Object(w.jsx)(b.O,{text:"\u0410\u0440\u043c\u0438\u044f",selected:"profile"===T,onClick:function(){return B({story:"profile",panel:"profile"})},children:Object(w.jsx)(g.a,{})}),Object(w.jsx)(b.O,{text:"\u041a\u043b\u0430\u043d\u044b",selected:"clans"===T,onClick:function(){return B({story:"clans",panel:"main"})},children:Object(w.jsx)(A.a,{})}),Object(w.jsx)(b.O,{text:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d",selected:"shop"===T,onClick:function(){if(!N)return r.s("snackbar",Object(w.jsx)(b.I,{onClose:function(){return r.s("snackbar",null)},before:Object(w.jsx)(m.a,{style:{color:"var(--destructive)"}}),children:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 Android \u0438 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u0412\u041a."}));B({story:"shop"})},children:Object(w.jsx)(k.a,{})})]}),children:[Object(w.jsx)(y,{id:"loading"}),Object(w.jsx)(_,{id:"profile",getUser:L,panel:S,update:W,createWinStory:X}),Object(w.jsx)(re,{id:"rating",fetchRating:F,fetchFriends:V}),Object(w.jsx)(ct,{id:"clans",panel:S,createWinStory:X}),Object(w.jsx)(jt,{id:"shop",update:W})]})})}),f]})})})},ht=function(){return Object(w.jsx)(b.c,{children:Object(w.jsx)(bt,{})})};s.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(p.a,{children:Object(w.jsx)(ht,{})})}),document.getElementById("root"))}},[[204,1,2]]]);